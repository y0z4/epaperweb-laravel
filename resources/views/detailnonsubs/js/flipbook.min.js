/* v 3.4.11
author http://codecanyon.net/user/creativeinteractivemedia/portfolio?ref=creativeinteractivemedia
*/
var FLIPBOOK=FLIPBOOK||{};!function(k,w,v,a){k.fn.flipBook=function(e){return new FLIPBOOK.Main(e,this)},k.fn.swipeBook=function(e){return e.viewMode="swipe",new FLIPBOOK.Main(e,this)},k.fn.flipBook.options={name:"",pages:[],tableOfContent:[],tableOfContentCloseOnClick:!1,deeplinkingEnabled:!1,deeplinkingPrefix:"",assets:{preloader:"images/preloader.jpg",overlay:"images/overlay.png",flipMp3:"mp3/turnPage.mp3",spinner:"images/spinner.gif"},pdfUrl:null,pdfBrowserViewerIfMobile:!1,pdfBrowserViewerFullscreen:!0,pdfBrowserViewerFullscreenTarget:"_blank",pdfPageScale:2,htmlLayer:!0,rightToLeft:!1,startPage:0,sound:!0,backgroundColor:"rgb(81, 85, 88)",backgroundImage:"",backgroundPattern:"",backgroundTransparent:!1,pageWidth:null,pageHeight:null,thumbSize:130,thumbQuality:1,loadAllPages:!1,loadPagesF:2,loadPagesB:1,currentPage:{enabled:!0,title:"Current page"},btnNext:{enabled:!0,title:"Next page",icon:"fa-angle-right",icon2:"navigate_next"},btnLast:{enabled:!1,title:"Last page",icon:"fa-angle-double-right",icon2:"last_page"},btnPrev:{enabled:!0,title:"Previous page",icon:"fa-angle-left",icon2:"navigate_before"},btnFirst:{enabled:!1,title:"First page",icon:"fa-angle-double-left",icon2:"first_page"},btnZoomIn:{enabled:!0,title:"Zoom in",icon:"fa-plus",icon2:"zoom_in"},btnZoomOut:{enabled:!0,title:"Zoom out",icon:"fa-minus",icon2:"zoom_out"},btnToc:{enabled:!0,title:"Table of content",icon:"fa-list-ol",icon2:"toc"},btnThumbs:{enabled:!0,title:"Pages",icon:"fa-th-large",icon2:"view_comfy"},btnShare:{enabled:!0,title:"Share",icon:"fa-link",icon2:"share"},btnDownloadPages:{enabled:!0,title:"Download pages",icon:"fa-download",icon2:"file_download",url:"images/pages.zip",name:"allPages.zip"},btnDownloadPdf:{forceDownload:!1,enabled:!0,title:"Download PDF",icon:"fa-file",icon2:"picture_as_pdf",url:null,openInNewWindow:!0,name:"allPages.pdf"},btnSound:{enabled:!0,title:"Volume",icon:"fa-volume-up",iconAlt:"fa-volume-off",icon2:"volume_up"},btnExpand:{enabled:!0,title:"Toggle fullscreen",icon:"fa-expand",icon2:"fullscreen",iconAlt:"fa-compress",iconAlt2:"fullscreen_exit"},btnSlideshow:{enabled:!1,title:"Toggle slideshow",icon:"fa-play",iconAlt:"fa-pause"},btnPrint:{enabled:!0,title:"Print",icon:"fa-print",icon2:"print"},btnAutoplay:{enabled:!0,title:"Autoplay",icon:"fa-play",iconAlt:"fa-pause"},btnSearch:{enabled:!1,title:"Search",icon:"fas fa-search",icon2:"search"},btnBookmark:{enabled:!1,title:"Bookmark",icon:"fas fa-bookmark",icon2:"fas fa-bookmark"},btnSelect:{enabled:!1,title:"Select tool",icon:"fas fa-i-cursor"},autoplayOnStart:!1,autoplayInterval:3e3,btnTocIfMobile:!0,btnThumbsIfMobile:!0,btnShareIfMobile:!1,btnDownloadPagesIfMobile:!0,btnDownloadPdfIfMobile:!0,btnSoundIfMobile:!1,btnExpandIfMobile:!0,btnPrintIfMobile:!1,sideNavigationButtons:!0,hideMenu:!1,google_plus:{enabled:!0,url:null},twitter:{enabled:!0,url:null,description:null},facebook:{enabled:!0,load_sdk:!0,url:null,app_id:null,title:null,caption:null,description:null,image:null},pinterest:{enabled:!0,url:null,image:null,description:null},email:{enabled:!0,title:null,description:null},pdf:{annotationLayer:!1},pageTextureSize:2048,minPageTextureSize:512,viewMode:"webgl",singlePageMode:!1,singlePageModeIfMobile:!1,zoomMin:.85,zoomSize:null,zoomStep:2,wheelDisabled:!0,arrowsDisabled:!0,responsiveView:!0,responsiveViewTreshold:768,minPixelRatio:1,skin:"light",pageFlipDuration:1,contentOnStart:!1,thumbnailsOnStart:!1,sideMenuOverBook:!0,lightBox:!1,lightBoxOpened:!1,lightBoxFullscreen:!1,lightboxCloseOnClick:!1,lightboxResetOnOpen:!0,lightboxBackground:null,lightboxStartPage:null,lightboxMarginV:"0",lightboxMarginH:"0",lightboxCSS:"",lightboxPreload:!1,pan:0,panMax:10,panMax2:2,panMin:-10,panMin2:-2,tilt:0,tiltMax:0,tiltMax2:0,tiltMin:-20,tiltMin2:-5,rotateCameraOnMouseMove:!1,rotateCameraOnMouseDrag:!0,lights:!0,lightColor:16777215,lightPositionX:0,lightPositionZ:1400,lightPositionY:350,lightIntensity:.6,shadows:!0,shadowMapSize:1024,shadowOpacity:.2,shadowDistance:15,pageRoughness:1,pageMetalness:0,pageHardness:2,coverHardness:2,pageSegmentsW:5,pageSegmentsH:1,pageMiddleShadowSize:2,pageMiddleShadowColorL:"#999999",pageMiddleShadowColorR:"#777777",antialias:!1,menuMargin:0,menuPadding:0,menuAlignHorizontal:"center",menuShadow:"",menuBackground:"",menuOverBook:!1,btnSize:16,btnRadius:4,btnMargin:4,btnPaddingV:10,btnPaddingH:10,btnShadow:"",btnTextShadow:"",btnBorder:"",btnColor:"",btnColorHover:"",btnBackground:"",btnBackgroundHover:"",sideBtnSize:30,sideBtnRadius:0,sideBtnMargin:0,sideBtnPaddingV:5,sideBtnPaddingH:5,sideBtnShadow:"",sideBtnTextShadow:"",sideBtnBorder:"",sideBtnColor:"#FFF",sideBtnBackground:"rgba(0,0,0,.3)",currentPagePositionV:"top",currentPagePositionH:"left",currentPageMarginV:5,currentPageMarginH:5,closeBtnSize:20,closeBtnRadius:0,closeBtnMargin:0,closeBtnPadding:10,closeBtnTextShadow:"",closeBtnColor:"#FFF",closeBtnBackground:"rgba(0,0,0,.3)",closeBtnBorder:"",preloaderText:"",fillPreloader:{enabled:!1,imgEmpty:"images/logo_light.png",imgFull:"images/logo_dark.png"},logoImg:"",logoUrl:"",logoCSS:"position:absolute;",logoHideOnMobile:!1,printMenu:!0,downloadMenu:!0,backCover:!0,textLayer:!1,strings:{print:"Print",printLeftPage:"Print left page",printRightPage:"Print right page",printCurrentPage:"Print current page",printAllPages:"Print all pages",download:"Download",downloadLeftPage:"Download left page",downloadRightPage:"Download right page",downloadCurrentPage:"Download current page",downloadAllPages:"Download all pages",bookmarks:"Bookmarks",bookmarkLeftPage:"Bookmark left page",bookmarkRightPage:"Bookmark right page",bookmarkCurrentPage:"Bookmark current page",search:"Search",findInDocument:"Find in document",pagesFoundContaining:"pages found containing",thumbnails:"Thumbnails",tableOfContent:"Table of content",share:"Share",pressEscToClose:"Press ESC to close"},mobile:{}},FLIPBOOK.Main=function(e,t){var o=this;this.elem=t,this.$elem=k(t),this.$body=k("body"),this.$window=k(w),this.bodyHasVerticalScrollbar=function(){return o.$body.height()>o.$window.height()},this.isZoomed=function(){return 1<this.zoom},this.options={};this.model={_events:{},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var o=this._events[e].indexOf(t);-1<o&&this._events[e].splice(o,1)}},trigger:function(e){if(this._events[e]){var t=0,o=this._events[e].length;if(o)for(;t<o;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}}};var n,s,a,r=v.createElement("div").style,l=function(){for(var e="t,webkitT,MozT,msT,OT".split(","),t=0,o=e.length;t<o;t++)if(e[t]+"ransform"in r)return e[t].substr(0,e[t].length-1);return!1}(),p=/android/gi.test(navigator.appVersion),d=/iphone|ipad/gi.test(navigator.appVersion),c=(n="perspective",(""===l?n:(n=n.charAt(0).toUpperCase()+n.substr(1),l+n))in r);if(this.msie=w.navigator.userAgent.indexOf("MSIE "),o.isAndroid=p,o.has3d=c,o.hasWebGl=function(e){if(w.WebGLRenderingContext){for(var t=v.createElement("canvas"),o=["webgl","experimental-webgl","moz-webgl","webkit-3d"],i=!1,n=0;n<4;n++)try{if((i=t.getContext(o[n]))&&"function"==typeof i.getParameter)return!e||{name:o[n],gl:i}}catch(e){}return!1}return!1}(),o.thumbsShowing=!1,o.tocShowing=!1,o.menuShowing=!0,o.fullscreenActive=!1,o.model.on("toolSelect",function(){o.bookLayer.removeClass("flipbook-move"),o.btnSelect&&o.btnSelect.addClass("flipbook-btn-active")}),o.model.on("toolMove",function(){o.bookLayer.addClass("flipbook-move"),o.btnSelect&&o.btnSelect.removeClass("flipbook-btn-active")}),o.options=k.extend({},k.fn.flipBook.options,e),o.options.isMobile=k.browser.mobile||d||p,o.options.isMobile)for(var h in o.options.mobile)o.options[h]=o.options.mobile[h];if(this.strings=this.options.strings,o.options.pageShininess=o.options.pageShininess/2,o.s=0,e.lightBox&&(k(this).bind("lightboxLoadingStarted",function(){}),k(this).bind("lightboxOpened",function(){})),k("head").append("<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />"),o.options.isMobile&&(o.options.singlePageMode=!!o.options.singlePageModeIfMobile||o.options.singlePageMode,o.options.viewModeMobile&&(o.options.viewMode=o.options.viewModeMobile),o.options.pageTextureSizeMobile&&(o.options.pageTextureSize=o.options.pageTextureSizeMobile)),"3dSinglePage"==o.options.viewMode&&(o.options.singlePageMode=!0),"2dSinglePage"==o.options.viewMode&&(o.options.singlePageMode=!0,o.options.viewMode="2d"),o.options.singlePageMode&&"2d"!=o.options.viewMode&&"swipe"!=o.options.viewMode&&(o.options.viewMode="3d"),this.options.singlePageMode&&(o.options.rightToLeft=!1),"webgl"==o.options.viewMode&&(!o.hasWebGl||parseFloat(!!(a=(s=(s||navigator.userAgent).toLowerCase()).match(/android\s([0-9\.]*)/))&&a[1])<4.4&&o.isAndroid)&&(o.options.viewMode="3d"),"3d"!=o.options.viewMode||o.has3d||(o.options.viewMode="2d"),o.webgl="webgl"==o.options.viewMode,o.options.isMobile&&e.pdfBrowserViewerIfMobile&&o.options.pdfUrl)o.options.lightBox&&!o.options.lightBoxOpened?o.$elem.on("touched click",function(){f()}).css("cursor","pointer"):f();else{o.options.pdfMode=Boolean(o.options.pdfUrl&&""!=o.options.pdfUrl);var u=o.options.zoomLevels;if(u){for("string"==typeof u&&(u=u.split(",")),i=0;i<u.length;i++)u[i]=Number(u[i]);o.options.zoomLevels=u,o.options.zoomMin=u[0]}if(o.options.backgroundTransparent&&(o.options.backgroundColor="none"),o.options.deeplinking||(o.options.deeplinking={enabled:o.options.deeplinkingEnabled,prefix:o.options.deeplinkingPrefix}),o.wrapper=k(v.createElement("div")).addClass("flipbook-main-wrapper"),""!=o.options.backgroundColor&&o.wrapper.css("background",o.options.backgroundColor),""!=o.options.backgroundPattern&&o.wrapper.css("background","url("+o.options.backgroundPattern+") repeat"),""!=o.options.backgroundImage&&(o.wrapper.css("background","url("+o.options.backgroundImage+") no-repeat"),o.wrapper.css("background-size","cover")),o.bookLayer=k(v.createElement("div")).addClass("flipbook-bookLayer").appendTo(o.wrapper),o.options.hideMenu&&o.bookLayer.css("bottom","0"),o.book=k(v.createElement("div")).addClass("book").appendTo(o.bookLayer),this.options.preloader?this.preloader=this.options.preloader:this.preloader=k('<div class="cssload-container"><div class="cssload-speeding-wheel"/><div class="flipbook-loading-text">'+this.options.preloaderText+'</div><div class="flipbook-loading-bg"></div></div>'),this.setLoadingProgress(0),o.options.deeplinking.enabled&&(void 0===o.options.deeplinking.prefix&&(o.options.deeplinking.prefix=""),k(w).bind("hashchange",function(e){if(o.Book&&o.Book.enabled){var t=o.getPageFromHash();t=o.options.rightToLeft?o.options.pages.length-t+1:t,o.options.singlePageMode&&t--,0<=t&&o.Book.goToPage(t,!0)}}),this.options.startPage<=2)){var g=this.getPageFromHash();1<g&&(this.options.lightBoxOpened=!0),this.options.startPage=g}this.options.startPage=this.options.singlePageMode?this.options.startPage-1:this.options.startPage,(this.options.main=this).options.lightBox?(this.lightbox=new FLIPBOOK.Lightbox(this,this.wrapper,this.options),this.wrapper.css("background","none"),this.bookLayer.css("background","none"),this.book.css("background","none"),this.preloader.appendTo(k("body")).css("position","fixed"),this.$elem.css("cursor","pointer").bind("tap click",function(e){o.started?(o.lightboxStart(),o.options.lightBoxFullscreen&&setTimeout(function(){o.toggleExpand()},0)):(b(),o.options.lightBoxFullscreen&&setTimeout(function(){o.toggleExpand()},100))}),this.options.lightBoxOpened?(b(),k(this).trigger("lightboxLoadingStarted")):this.options.lightboxPreload&&("undefined"!=typeof IScroll||FLIPBOOK.scriptsAdded[FLIPBOOK.iscrollSrc]||o.loadScript(FLIPBOOK.iscrollSrc,function(){}),o.options.pdfMode&&("undefined"!=typeof PDFJS||FLIPBOOK.scriptsAdded[FLIPBOOK.pdfjsSrc]||o.loadScript(FLIPBOOK.pdfjsSrc,function(){}),void 0!==FLIPBOOK.PdfService||FLIPBOOK.scriptsAdded[FLIPBOOK.pdfServiceSrc]||o.loadScript(FLIPBOOK.pdfServiceSrc,function(){}),o.options.btnSearch.enabled&&(FLIPBOOK.scriptsAdded[FLIPBOOK.markSrc]||o.loadScript(FLIPBOOK.markSrc,function(){}))),"webgl"==o.options.viewMode&&("undefined"!=typeof THREE||FLIPBOOK.scriptsAdded[FLIPBOOK.threejsSrc]||o.loadScript(FLIPBOOK.threejsSrc,function(){})))):(this.preloader.appendTo(this.wrapper),this.wrapper.appendTo(this.$elem),b())}function f(){o.options.pdfBrowserViewerFullscreen?w.open(o.options.pdfUrl,o.options.pdfBrowserViewerFullscreenTarget):k('<object type="application/pdf"/>').width("100%").height("100%").attr("data",o.options.pdfUrl).appendTo(o.$elem)}function b(){if(o.options.fillPreloader.enabled){o.$fillPreloader=k("<div>").addClass("flipbook-fillPreloader");var t=new Image;t.src=o.options.fillPreloader.imgEmpty,t.onload=function(){var e=new Image;e.src=o.options.fillPreloader.imgFull,e.onload=function(){k(t).appendTo(o.$fillPreloader),o.$fillPreloaderImg=k(e).appendTo(o.$fillPreloader),o.$fillPreloader.appendTo(o.wrapper),m()}}}else o.setFillPreloaderProgress(.1),m()}function m(){o.flipsound=v.createElement("audio"),o.flipsound.setAttribute("src",o.options.assets.flipMp3),o.flipsound.setAttribute("type","audio/mpeg"),o.options.pdfMode?o.initPdf(o.options.btnSearch.enabled):(o.options.btnSearch.enabled=!1,o.initJpg())}},FLIPBOOK.Main.prototype={start:function(){this.options.dp&&(this.options.doublePage=!0,this.options.pageMode="doubleWithCover"),this.started||(this.model.pageW=this.options.pageWidth,this.model.bookW=2*this.options.pageWidth,this.model.pageH=this.options.pageHeight,this.model.bookH=this.options.pageHeight,1==this.options.numPages&&(this.options.viewMode="3d",this.webgl=!1),this.options.numPages%2==0?this.options.numSheets=(this.options.numPages+2)/2:this.options.numSheets=(this.options.numPages+1)/2,this.started=!0,this.options.lightBox&&(this.lightbox.openLightbox(),this.lightboxStart()),this.setFillPreloaderProgress(.7),this.createBook())},lightboxStart:function(){var e=this;this.started||this.start(),void 0!==this.Book?(this.Book.enable(),this.options.contentOnStart&&this.toggleToc(!0),this.options.thumbnailsOnStart&&this.toggleThumbs(!0),e.updateCurrentPage(),e.initColors(),e.resize(),k(this).trigger("lightboxOpened")):setTimeout(function(){e.lightboxStart()},100)},setHash:function(e){e<1&&(e=1),k("body").trigger({type:"updatePage",page:e,name:this.options.name}),this.options.deeplinking.enabled&&this.Book.enabled&&(w.location.hash="#"+this.options.deeplinking.prefix+String(e))},clearHash:function(){this.options.deeplinking.enabled&&(w.location.hash="")},getPageFromHash:function(){var e=parseInt(w.location.hash.replace(/#/g,"").replace(this.options.deeplinking.prefix,""));return isNaN(e)&&(e=0),e},initColors:function(){this.wrapper.find(".skin-color-bg").removeClass("flipbook-bg-light").removeClass("flipbook-bg-dark").addClass("flipbook-bg-"+this.options.skin),this.wrapper.find(".skin-color").removeClass("flipbook-color-light").removeClass("flipbook-color-dark").addClass("flipbook-color-"+this.options.skin)},lightboxEnd:function(){screenfull.exit(),w.location.hash&&this.clearHash(),this.setLoadingProgress(1),this.Book.disable()},turnPageComplete:function(){this.animating=!1,this.updateCurrentPage();var e=this.Book.rightIndex||0;this.options.rightToLeft&&(e=this.options.pages.length-e),this.pdfService&&this.pdfService.setRightIndex(e)},updateCurrentPage:function(e){if(void 0!==this.currentPage){var t,o=this.options.rightToLeft,i=this.options.numPages,n=this.Book.rightIndex||0;if(this.options.singlePageMode)return this.options.rightToLeft&&(n=this.options.pages.length-n),this.currentPage.attr("value",String(n+1)),this.currentPage.text(String(n+1)+" / "+String(i)),this.enablePrev(0<n),this.enableNext(n<this.options.pages.length-1),this.currentPageNumber=n,this.setHash(this.currentPageNumber+1),this.cPage=[this.currentPageNumber],this.wrapper.find(".c-l-p").show(),this.wrapper.find(".c-r-p").show(),void this.wrapper.find(".c-p").hide();if(this.Book.singlePage)return t=o?this.options.pages.length-n:n+1,this.currentPage.attr("value",t),this.currentPage.text(t+" / "+i),this.enablePrev(0<n),this.enableNext(n<this.options.pages.length-1),this.currentPageNumber=n,this.setHash(this.currentPageNumber+1),this.cPage=[this.currentPageNumber],this.wrapper.find(".c-l-p").show(),this.wrapper.find(".c-r-p").show(),void this.wrapper.find(".c-p").hide();void 0!==e&&(n=e);var s=o?this.options.pages.length-n:n;i<s||s==i&&i%2==0?(t=i,this.cPage=[i-1]):s<1?(t=1,this.cPage=[0]):(t=String(s)+"-"+String(s+1),this.cPage=[s-1,s]),2==this.cPage.length?(this.wrapper.find(".c-l-p").show(),this.wrapper.find(".c-r-p").show(),this.wrapper.find(".c-p").hide()):(this.wrapper.find(".c-l-p").hide(),this.wrapper.find(".c-r-p").hide(),this.wrapper.find(".c-p").show()),t+=" / "+i,this.currentPage.attr("value",String(s)),this.currentPage.text(String(t)),this.s&&0<this.options.pdfPageScale&&this.Book.goToPage(0),i%2!=0&&i--,o?(this.enablePrev(s<i),this.enableNext(1<s)):(this.enablePrev(1<s),this.enableNext(s<i)),this.setHash(s)}},initJpg:function(){var n=this;n.setFillPreloaderProgress(.1),this.loadPage(0,this.options.pageTextureSize,function(){n.setFillPreloaderProgress(.5),n.loadPage(1,n.options.pageTextureSize,function(){var e=n.options.pages[0].img,t=n.options.pages[1].img,o=e.width/e.height,i=t.width/t.height;n.options.pageWidth||(n.options.pageWidth=parseInt(1e3*e.width/e.height)),n.options.pageHeight||(n.options.pageHeight=1e3),n.options.pageMode=1.5<i/o?"doubleWithCover":"singlePage",n.options.doublePage=1.5<i/o,n.options.zoomSize=n.options.zoomSize||e.height,n.setLoadingProgress(.7),n.start()})})},initPdf:function(e){if(!this.started){("swipe"==this.options.viewMode||this.options.btnSearch.enabled)&&(this.options.textLayer=!0),this.$fillPreloader?this.setFillPreloaderProgress(.1):this.setLoadingProgress(.1);var n=this;if("undefined"==typeof PDFJS){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.pdfjsSrc])return void n.loadScript(FLIPBOOK.pdfjsSrc,function(){n.initPdf(e)});if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.pdfjsSrc])return void setTimeout(function(){n.initPdf(e)},100)}if(n.setFillPreloaderProgress(.2),void 0===FLIPBOOK.PdfService){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.pdfServiceSrc])return void n.loadScript(FLIPBOOK.pdfServiceSrc,function(){n.initPdf(e)});if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.pdfServiceSrc])return void setTimeout(function(){n.initPdf(e)},100)}n.setFillPreloaderProgress(.3),PDFJS.externalLinkTarget=PDFJS.LinkTarget.BLANK,PDFJS.workerSrc=this.options.pdfjsworkerSrc||FLIPBOOK.pdfjsworkerSrc,PDFJS.disableAutoFetch=!0,PDFJS.disableStream=!0,PDFJS.cMapUrl="cmaps/",PDFJS.cMapPacked=!0,PDFJS.getDocument({url:n.options.pdfUrl,rangeChunkSize:524288}).then(function(i){n.pdfDocument=i,n.pdfService=new FLIPBOOK.PdfService(i,n.model,n.options),n.options.pageLoaded=function(e,t){n.Book.onPageLoaded&&n.Book.onPageLoaded(e,t),n.searchingString&&n.mark(n.searchingString)},n.options.thumbLoaded=function(e){n.options.thumbs=n.options.thumbs||[],n.options.thumbs[e.index]=e},n.options.pageUnloaded=function(e){e.forEach(function(e){n.Book.onPageUnloaded&&n.Book.onPageUnloaded(e.index,e.size)})},n.setFillPreloaderProgress(.5);n.pdfService.init(function(){n.options.pageMode=this.double?"doubleWithCover":"singlePage",n.options.doublePage=this.double,n.viewportOriginal=this.viewports[0],n.options.firstPage={width:this.viewports[0].width,height:this.viewports[0].height,ratio:this.viewports[0].width/this.viewports[0].height},1<i.pdfInfo.numPages&&(n.options.secondPage={width:this.viewports[1].width,height:this.viewports[1].height,ratio:this.viewports[1].width/this.viewports[1].height}),n.options.numPages=i.pdfInfo.numPages;for(var e=[],t=0;t<n.options.numPages;t++){var o={canvas:{}};n.options.pages&&n.options.pages[t]?k.extend(o,n.options.pages[t]):o.title=t+1,e[t]=o}n.options.pages=e;n.book.height();n.options.pageWidth=parseInt(1e3*n.viewportOriginal.width/n.viewportOriginal.height),n.options.pageHeight=1e3,n.options.zoomSize=n.options.zoomSize||n.options.pageTextureSize,n.start()},e)})}},loadPage:function(t,o,i){var n=this;if(this.options.pdfMode)this.loadPageFromPdf(t,o,i);else{n=this;this.options.pages[t].img?this.options.pages[t].imgLoaded?n.pageLoaded({index:t,size:o,image:n.options.pages[t].img,htmlContent:n.options.pages[t].htmlContent},i):setTimeout(function(){n.loadPage(t,o,i)},300):(this.options.pages[t].img=new Image,this.options.pages[t].img.setAttribute("id",t),this.options.pages[t].img.onload=function(){n.options.pages[t].imgLoaded=!0;var e=k(v.createElement("div")).addClass("flipbook-page-htmlContent");k(n.options.pages[t].htmlContent).appendTo(e),n.pageLoaded({index:t,size:o,image:n.options.pages[t].img,htmlContent:e},i)},this.options.pages[t].img.src=this.options.pages[t].src,this.options.pages[t].img.crossOrigin="Anonymous")}},pageLoaded:function(e,t){t.call(this,e,t),this.options.loadAllPages&&e.index<this.options.numPages-1&&this.loadPage(e.index+1,e.size,function(){})},loadPageFromPdf:function(e,t,o){var i=this.options.doublePage?Math.round(e/2):e;t=t||this.options.pageTextureSize,this.options.pages[e]?this.pdfService.renderPageFromPdf(i,t,o):o.call(this)},loadThumbsFromPdf:function(e){for(var t=this.pdfDocument.pdfInfo.numPages,o=0;o<t;o++){var i=v.createElement("canvas");e[o].thumbCanvas=i}this.loadThumbFromPdf(0,e)},loadThumbFromPdf:function(e,r){var l=this;this.pdfDocument.getPage(e+1).then(function(e){var t=e.getViewport(1),o=l.options.thumbQuality*l.options.thumbSize/t.height,i=e.getViewport(o),n=r[e.pageIndex].thumbCanvas,s=n.getContext("2d");n.height=i.height,n.width=i.width;var a={canvasContext:s,viewport:i};e.cleanupAfterRender=!0,e.render(a).then(function(){e.cleanup(),e.pageIndex+1<l.pdfDocument.pdfInfo.numPages&&l.loadThumbFromPdf(e.pageIndex+1,r)}),l.thumbScroll.refresh()})},getString:function(e){return this.options.strings[e]},findInDocument:function(e){if(this.hideAllThumbs(),this.$findInfo.hide(),this.pagesFound=0,this.$findInfo.show().text("0 "+this.strings.pagesFoundContaining+' "'+e+'"'),this.pdfService)for(var t=0;t<this.pdfService.pdfInfo.numPages;t++)this.findInPage(e,t);this.mark(e),this.searchingString=e},findInPage:function(t,o){var i=this;this.pdfService.findInPage(t,o,function(e){0<e&&(i.showThumb(o),i.pagesFound++,i.$findInfo.show().text(i.pagesFound+" "+i.strings.pagesFoundContaining+' "'+t+'"'))})},mark:function(e){for(var t=0;t<this.options.pages.length;t++){var o=this.options.pages[t].htmlContent;k(o).unmark({done:function(){k(o).mark(e)}})}},unmark:function(){this.searchingString=null;for(var e=0;e<this.options.pages.length;e++){var t=this.options.pages[e].htmlContent;k(t).unmark({})}},setTool:function(e){this.tool=e,this.model.trigger(e)},toggleTool:function(){var e="toolSelect"==this.tool?"toolMove":"toolSelect";this.setTool(e)},scrollPageIntoView:function(e){e=this.options.rightToLeft?this.options.pages.length-e+1:e,this.Book.goToPage(e)},goToPage:function(e){this.Book.goToPage(e)},loadScript:function(o,i){var n=this,s=v.createElement("script"),e=v.getElementsByTagName("script")[0];s.async=1,e.parentNode.insertBefore(s,e),FLIPBOOK.scriptsAdded[o]=!0,s.onload=s.onreadystatechange=function(e,t){(t||!s.readyState||/loaded|complete/.test(s.readyState))&&(s.onload=s.onreadystatechange=null,s=a,t||i&&i.call(n),FLIPBOOK.scriptsLoaded[o]=!0)},s.src=o},createBook:function(){var n=this,e=this.model,t=this.options;if("undefined"==typeof IScroll){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.iscrollSrc])return void n.loadScript(FLIPBOOK.iscrollSrc,n.createBook);if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.iscrollSrc])return void setTimeout(function(){n.createBook()},100)}if(this.options.btnSearch.enabled){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.markSrc])return void n.loadScript(FLIPBOOK.markSrc,n.createBook);if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.markSrc])return void setTimeout(function(){n.createBook()},100)}if(n.setFillPreloaderProgress(.9),"webgl"==n.options.viewMode){if("undefined"==typeof THREE){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.threejsSrc])return void n.loadScript(FLIPBOOK.threejsSrc,n.createBook);if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.threejsSrc])return void setTimeout(function(){n.createBook()},100)}if(void 0===FLIPBOOK.BookWebGL){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.flipbookWebGlSrc])return void n.loadScript(FLIPBOOK.flipbookWebGlSrc,n.createBook);if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.flipbookWebGlSrc])return void setTimeout(function(){n.createBook()},100)}}else if("swipe"==n.options.viewMode){if(void 0===FLIPBOOK.BookSwipe){if(!FLIPBOOK.scriptsAdded[FLIPBOOK.flipBookSwipeSrc])return void n.loadScript(FLIPBOOK.flipBookSwipeSrc,n.createBook);if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.flipBookSwipeSrc])return void setTimeout(function(){n.createBook()},100)}}else if(void 0===FLIPBOOK.Book3){if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.flipbookBook3Src])return void n.loadScript(FLIPBOOK.flipbookBook3Src,n.createBook);if(!FLIPBOOK.scriptsAdded[FLIPBOOK.flipbookBook3Src])return void setTimeout(function(){n.createBook()},100)}if(n.setFillPreloaderProgress(1),n.setLoadingProgress(1),this.initEasing(),"doubleWithCover"==n.options.pageMode&&2<n.options.pages.length){for(var o=[n.options.pages[0]],i=1;i<=n.options.pages.length-2;i++){var s=n.options.pages[i],a={src:s.src,thumb:s.thumb,title:s.title,htmlContent:s.htmlContent,side:"left"},r={src:s.src,thumb:s.thumb,title:s.title,htmlContent:s.htmlContent,side:"right"};o.push(a),o.push(r)}o.push(n.options.pages[n.options.pages.length-1]),n.options.pages=o}if(this.options.numPages=this.options.pages.length,this.options.numPages%2==0||this.options.singlePageMode||(this.oddPages=!0,this.options.oddPages=!0,this.options.pages.push({src:this.options.assets.preloader,thumb:""})),0<n.options.pages.length)for(i=0;i<n.options.pages.length;i++)void 0!==n.options.pages[i].htmlContent&&(n.options.hasHtmlContent=!0,n.options.pages[i].htmlContent=k(n.options.pages[i].htmlContent));if("webgl"==n.options.viewMode){var l=n.options;l.scroll=n.scroll,(l.parent=n).Book=new FLIPBOOK.BookWebGL(n.book[0],e,l),n.webglMode=!0,n.initSwipe()}else"swipe"==n.options.viewMode?(n.Book=new FLIPBOOK.BookSwipe(n.book[0],n.bookLayer[0],e,t),n.initSwipe()):("2d"!=n.options.viewMode&&(n.options.viewMode="3d"),n.Book=new FLIPBOOK.Book3(n.book[0],e,t),n.initSwipe(),n.webglMode=!1);n.Book.enable(),n.book.hide().fadeIn("slow"),k(n.Book).bind("flipEnd",function(){var e=this.rightIndex,t="";if(1==this.mode)t=String(e+1);else{var o=String(e),i=e+1;t=0==o||o==i?String(i):i>this.pagesArr.length?String(o):String(o)+","+String(i)}t+="/",t+=String(this.pagesArr.length),n.currentPage.val(String(t))}),this.createToc(this.options.tableOfContent),this.thumbsCreated=!1,this.createMenu(),this.createCurrentPage(),this.options.currentPage.enabled||this.currentPageHolder.hide(),1==this.options.pages.length&&(this.rightToLeft=!1,this.deeplinking={enabled:!1});var p=k(n.Book);p.bind("loadPagesFromPdf",function(e,t,o,i){n.loadPagesFromPdf(t,o,i)}),p.bind("turnPageComplete",function(e){n.turnPageComplete()}),p.bind("initEasing",function(e){n.initEasing()}),p.bind("playFlipSound",function(e){n.playFlipSound()}),p.bind("closeLightbox",function(e){n.closeLightbox()}),p.bind("updateCurrentPage",function(e){n.updateCurrentPage()}),this.createLogo(),this.onBookCreated()},onBookCreated:function(){var e=this.options,t=this;k(w).resize(function(){t.resize()}),e.rightToLeft?t.Book.goToPage(Number(e.pages.length-Number(e.startPage)+1),!0):t.Book.goToPage(Number(e.startPage),!0),this.updateCurrentPage(),v.addEventListener("keydown",function(e){if(t.Book.enabled&&(t.isZoomed()||!t.bodyHasVerticalScrollbar()||t.options.lightBox||t.fullscreenActive||!t.options.arrowsDisabled))switch((e=e||w.event).keyCode){case 37:t.Book.prevPage();break;case 38:t.zoomIn();break;case 39:t.Book.nextPage();break;case 40:t.zoomOut()}}),v.addEventListener("MSFullscreenChange",function(e){t.handleFsChange()}),v.addEventListener("mozfullscreenchange",function(e){t.handleFsChange()}),v.addEventListener("webkitfullscreenchange",function(e){t.handleFsChange()}),v.addEventListener("fullscreenchange",function(e){t.handleFsChange()}),this.zoom=e.zoomMin,this.bookLayer.bind("DOMMouseScroll",function(e){if(t.Book.enabled&&(t.isZoomed()||!t.bodyHasVerticalScrollbar()||t.options.lightBox||t.fullscreenActive||!t.options.wheelDisabled))return e.stopPropagation(),e.preventDefault(),0<e.originalEvent.detail?t.zoomOut(e.originalEvent):t.zoomIn(e.originalEvent),!1}),this.bookLayer.bind("mousewheel",function(e){if(t.Book.enabled&&(t.isZoomed()||!t.bodyHasVerticalScrollbar()||t.options.lightBox||t.fullscreenActive||!t.options.wheelDisabled))return e.stopPropagation(),e.preventDefault(),e.originalEvent.wheelDelta<0?t.zoomOut(e.originalEvent):t.zoomIn(e.originalEvent),!1}),this.setTool("toolMove"),e.contentOnStart&&t.toggleToc(!0),e.thumbnailsOnStart&&t.toggleThumbs(!0),e.autoplayOnStart&&t.toggleAutoplay(!0),t.options.lightBox&&t.Book.disable(),t.Book.updateVisiblePages(),t.initColors(),t.resize(),setTimeout(function(){t.resize()},200),setTimeout(function(){t.resize()},400),setTimeout(function(){t.resize()},600),e.onbookcreated&&e.onbookcreated.call(this)},initSwipe:function(){var r=this;w.jQuery(this.bookLayer).swipe({swipeStatus:function(e,t,o,i,n,s,a){if("start"==t)try{r.currentPageInput.trigger("blur")}catch(e){}if(!r.options.sideNavigationButtons||e.target!==r.arrowL[0]&&e.target!==r.arrowR[0])if(("end"==t||"cancel"==t)&&n<200&&i<10)"toolMove"!=r.tool||r.options.doubleClickZoomDisabled||(null==r.clickTimer?r.clickTimer=setTimeout(function(){if(r.clickTimer=null,"touchend"==e.type)e.changedTouches[0].pageX;else if("mouseup"==e.type)e.offsetX},300):(clearTimeout(r.clickTimer),r.clickTimer=null,r.zoom>=r.options.zoomMax?r.zoomTo(r.options.zoomMin,0,e):r.zoomTo(r.options.zoomMax,0,e)));else{if(("up"==o||"down"==o)&&"move"==t||1<r.zoom||"toolSelect"==r.tool)return;r.Book.onSwipe(e,t,o,i,n,s,a)}},pinchStatus:function(e,t,o,i,n,s,a){1<s&&r.options.isMobile&&e.preventDefault(),"start"==t&&(r.zoomStart=r.zoom),1<s&&"webgl"==r.options.viewMode&&r.zoomTo(r.zoomStart*a,0)},fingers:2,pinchThreshold:0,allowPageScroll:"vertical",preventDefaultEvents:!1}),this.swipeEnabled=!0},toggleMenu:function(){this.menuShowing?(this.menuShowing=!1,this.bookLayer.css("bottom","0px"),this.menuWrapper.fadeOut(),this.currentPageHolder.fadeOut(),k(".flipbook-nav").fadeOut()):(this.menuShowing=!0,this.bookLayer.css("bottom",this.menuWrapper.height()+"px"),this.menuWrapper.fadeIn(),this.currentPageHolder.fadeIn(),k(".flipbook-nav").fadeIn()),this.Book.onResize()},createButton:function(t){var e,o=this.options;"material"==o.icons?(e=k("<i>").appendTo(this.menu).addClass("material-icons flipbook-icon-material flipbook-menu-btn skin-color skin-color-bg").attr("title",t.title).text(t.icon2)).css({"border-radius":o.btnRadius+"px","text-shadow":o.btnTextShadow,"box-shadow":o.btnShadow,border:o.btnBorder,color:o.btnColor,background:o.btnBackground}):((e=k(v.createElement("span")).appendTo(this.menu).attr("title",t.title)).$icon=k(v.createElement("span")).appendTo(e).attr("aria-hidden","true").addClass(t.icon).addClass("flipbook-icon-fa flipbook-menu-btn skin-color skin-color-bg fa").css({width:o.btnSize+"px","font-size":o.btnSize+"px","border-radius":o.btnRadius+"px",margin:o.btnMargin+"px",padding:o.btnPaddingV+"px "+o.btnPaddingH+"px","text-shadow":o.btnTextShadow,"box-shadow":o.btnShadow,border:o.btnBorder,color:o.btnColor,background:o.btnBackground}),t.iconAlt&&(e.$iconAlt=k(v.createElement("span")).appendTo(e).attr("aria-hidden","true").addClass(t.iconAlt).addClass("flipbook-icon-fa flipbook-menu-btn skin-color skin-color-bg fa").css({width:o.btnSize+"px","font-size":o.btnSize+"px","border-radius":o.btnRadius+"px",margin:o.btnMargin+"px",padding:o.btnPaddingV+"px "+o.btnPaddingH+"px","text-shadow":o.btnTextShadow,"box-shadow":o.btnShadow,border:o.btnBorder,color:o.btnColor,background:o.btnBackground}).hide()));return e.icon=t.icon,e.iconAlt=t.iconAlt,t.onclick&&e.bind("tap click",function(e){t.onclick()}),(o.btnColorHover||o.btnBackgroundHover||o.btnBorderHover)&&e.mouseenter(function(){e.css({color:o.btnColorHover,background:o.btnBackgroundHover,border:o.btnBorderHover})}).mouseleave(function(){e.css({color:o.btnColor,background:o.btnBackground,border:o.btnBorder})}),e},createMenu:function(){var n=this.options,o=this;if(this.menuWrapper=k(v.createElement("div")).addClass("flipbook-menuWrapper"),this.menuWrapper.appendTo(this.wrapper),n.hideMenu&&this.menuWrapper.hide(),"swipe"==n.viewMode&&(n.btnSound.enabled=!1),this.menu=k(v.createElement("div")).addClass("flipbook-menu skin-color-bg").appendTo(this.menuWrapper).css({background:n.menuBackground,"box-shadow":n.menuShadow,margin:n.menuMargin+"px",padding:n.menuPadding+"px","text-align":n.menuAlignHorizontal}),n.sideNavigationButtons?(o.btnNext=k('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"><span class="flipbook-right-arrow fa '+o.options.btnNext.icon+' skin-color skin-color-bg"></div></div>').appendTo(o.bookLayer).bind("tap click",function(e){o.btnNext.disabled||(o.btnNext.disabled=!0,setTimeout(function(){o.btnNext.disabled=!1},300),e.stopPropagation(),e.preventDefault(),o.Book.nextPage())}),o.arrowR=o.btnNext.find("span"),o.arrowR.css({width:n.sideBtnSize+"px","font-size":n.sideBtnSize+"px","border-radius":n.sideBtnRadius+"px","margin-top":String(-n.sideBtnSize/2)+"px","margin-right":n.sideBtnMargin+"px",padding:n.sideBtnPaddingV+"px "+n.sideBtnPaddingH+"px","text-shadow":n.sideBtnTextShadow,"box-shadow":n.sideBtnShadow,border:n.sideBtnBorder,color:n.sideBtnColor,background:n.sideBtnBackground,"box-sizing":"initial"}).attr("title",this.options.btnNext.title),o.btnPrev=k('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"><span class="flipbook-left-arrow fa '+o.options.btnPrev.icon+' skin-color skin-color-bg"></div></div>').appendTo(o.bookLayer).bind("tap click",function(e){o.btnPrev.disabled||(o.btnPrev.disabled=!0,setTimeout(function(){o.btnPrev.disabled=!1},300),e.stopPropagation(),e.preventDefault(),o.Book.prevPage())}),o.arrowL=o.btnPrev.find("span"),o.arrowL.css({width:n.sideBtnSize+"px","font-size":n.sideBtnSize+"px","border-radius":n.sideBtnRadius+"px","margin-top":String(-n.sideBtnSize/2)+"px","margin-left":n.sideBtnMargin+"px",padding:n.sideBtnPaddingV+"px "+n.sideBtnPaddingH+"px","text-shadow":n.sideBtnTextShadow,"box-shadow":n.sideBtnShadow,border:n.sideBtnBorder,color:n.sideBtnColor,background:n.sideBtnBackground,"box-sizing":"initial"}).attr("title",this.options.btnPrev.title),o.options.btnFirst.enabled&&(o.btnFirst=k('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"><span class="flipbook-first-arrow fa '+this.options.btnFirst.icon+' skin-color skin-color-bg"></div></div>').appendTo(o.bookLayer).bind("tap click",function(e){o.btnFirst.disabled||(o.btnFirst.disabled=!0,setTimeout(function(){o.btnFirst.disabled=!1},300),e.stopPropagation(),e.preventDefault(),o.Book.goToPage(1))}),o.btnFirst.find("span").css({width:n.sideBtnSize+"px","font-size":.66*n.sideBtnSize+"px","border-radius":n.sideBtnRadius+"px","margin-top":String(n.sideBtnSize/2+n.sideBtnMargin+2*n.sideBtnPaddingV)+"px","margin-left":n.sideBtnMargin+"px",padding:n.sideBtnPaddingV+"px "+n.sideBtnPaddingH+"px","text-shadow":n.sideBtnTextShadow,"box-shadow":n.sideBtnShadow,border:n.sideBtnBorder,color:n.sideBtnColor,background:n.sideBtnBackground,"box-sizing":"initial"}).attr("title",this.options.btnFirst.title)),o.options.btnLast.enabled&&(o.btnLast=k('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"><span class="flipbook-last-arrow fa '+this.options.btnLast.icon+' skin-color skin-color-bg"></div></div>').appendTo(o.bookLayer).bind("tap click",function(e){o.btnLast.disabled||(o.btnLast.disabled=!0,setTimeout(function(){o.btnLast.disabled=!1},300),e.stopPropagation(),e.preventDefault(),o.Book.goToPage(o.options.pages.length))}),o.btnLast.find("span").css({width:n.sideBtnSize+"px","font-size":.66*n.sideBtnSize+"px","border-radius":n.sideBtnRadius+"px","margin-top":String(n.sideBtnSize/2+n.sideBtnMargin+2*n.sideBtnPaddingV)+"px","margin-right":n.sideBtnMargin+"px",padding:n.sideBtnPaddingV+"px "+n.sideBtnPaddingH+"px","text-shadow":n.sideBtnTextShadow,"box-shadow":n.sideBtnShadow,border:n.sideBtnBorder,color:n.sideBtnColor,background:n.sideBtnBackground,"box-sizing":"initial"}).attr("title",this.options.btnLast.title))):(n.btnFirst.enabled&&(this.btnFirst=this.createButton(n.btnFirst).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),o.Book.goToPage(1)})),n.btnPrev.enabled&&(this.btnPrev=this.createButton(n.btnPrev).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),o.Book.prevPage()})),n.btnNext.enabled&&(this.btnNext=this.createButton(n.btnNext).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),o.Book.nextPage()})),n.btnLast.enabled&&(this.btnLast=this.createButton(n.btnLast).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),o.Book.goToPage(o.options.pages.length)}))),n.btnAutoplay.enabled&&(this.btnAutoplay=this.createButton(n.btnAutoplay).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),o.autoplay||o.Book.nextPage(),o.toggleAutoplay()})),n.btnSearch.enabled&&(this.btnSearch=this.createButton(n.btnSearch).bind("touchend click",function(e){o.toggleSearch()}),this.createSearch()),n.btnBookmark.enabled&&(this.btnBookmark=this.createButton(n.btnBookmark).bind("touchend click",function(e){o.toggleBookmark()}),this.createBookmark()),n.btnZoomIn.enabled&&(this.btnZoomIn=this.createButton(n.btnZoomIn).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),o.zoomIn()})),n.btnZoomOut.enabled&&(this.btnZoomOut=this.createButton(n.btnZoomOut).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),o.zoomOut()})),this.onZoom(n.zoom),!n.btnToc.enabled||!n.btnTocIfMobile&&n.isMobile||(this.btnToc=this.createButton(n.btnToc).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),o.toggleToc()})),!n.btnThumbs.enabled||!n.btnThumbsIfMobile&&n.isMobile||(this.btnThumbs=this.createButton(n.btnThumbs).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),o.toggleThumbs()})),!n.btnShare.enabled||!n.btnShareIfMobile&&n.isMobile||(this.btnShare=this.createButton(n.btnShare).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),o.toggleShareMenu()})),!n.btnDownloadPages.enabled||!n.btnDownloadPagesIfMobile&&n.isMobile||(this.btnDownloadPages=this.createButton(n.btnDownloadPages).bind("touchend click",function(e){if(o.options.downloadMenu)o.toggleDownloadMenu();else{e.stopPropagation(),e.preventDefault();var t=v.createElement("a");t.href=n.btnDownloadPages.url,t.download="file.pdf",t.dispatchEvent(new MouseEvent("click"))}})),!n.btnPrint.enabled||!n.btnPrintIfMobile&&n.isMobile||(this.btnPrint=this.createButton(n.btnPrint).bind("touchend click",function(e){o.options.printMenu?o.togglePrintMenu():(e.stopPropagation(),e.preventDefault(),o.togglePrintWindow())})),!n.btnDownloadPdf.enabled||!n.btnDownloadPdfIfMobile&&n.isMobile||(this.btnDownloadPdf=this.createButton(n.btnDownloadPdf),n.pdfMode&&!n.btnDownloadPdf.url&&(n.btnDownloadPdf.url=n.pdfUrl),this.btnDownloadPdf.bind("touchend click",function(e){if(e.stopPropagation(),e.preventDefault(),n.btnDownloadPdf.forceDownload){var t=n.btnDownloadPdf.url,o=v.createElement("a");o.href=t,o.download="",v.body.appendChild(o),o.click(),v.body.removeChild(o)}else{var i=n.btnDownloadPdf.openInNewWindow||(n.btnDownloadPdf.openInNewWindow,1)?"_blank":"_self";w.open(n.btnDownloadPdf.url,i)}})),n.sound&&n.btnSound.enabled&&(n.btnSoundIfMobile||!n.isMobile)&&(this.btnSound=this.createButton(n.btnSound).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),n.sound?(n.sound=!1,o.btnSound.find("."+o.btnSound.icon).hide(),o.btnSound.find("."+o.btnSound.iconAlt).show()):(n.sound=!0,o.btnSound.find("."+o.btnSound.icon).show(),o.btnSound.find("."+o.btnSound.iconAlt).hide())})),n.textLayer&&(this.btnSelect=this.createButton(n.btnSelect).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),o.toggleTool()})),!n.btnExpand.enabled||!n.btnExpandIfMobile&&n.isMobile||(this.btnExpand=this.createButton(n.btnExpand).addClass("btnExpand").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),o.toggleExpand()})),n.btnSlideshow.enabled&&(this.btnSlideshow=this.createButton(n.btnSlideshow).addClass("btnSlideshow").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),o.toggleSlideshow()})),n.buttons)for(var e=0;e<n.buttons.length;e++){var t=n.buttons[e];o.createButton(t).index(1)}},handleFsChange:function(){if(this.Book&&this.Book.enabled){var e=this,t=e.lightbox?k(v.body):e.$elem;v.fullscreenElement||v.webkitFullscreenElement||v.mozFullScreenElement||v.msFullscreenElement||this.isFullscreen?(e.btnExpand.find("."+e.btnExpand.icon).hide(),e.btnExpand.find("."+e.btnExpand.iconAlt).show(),t.addClass("flipbook-browser-fullscreen"),this.fullscreenActive=!0,this.options.onfullscreenenter&&this.options.onfullscreenenter.call(this)):(e.btnExpand.find("."+e.btnExpand.icon).show(),e.btnExpand.find("."+e.btnExpand.iconAlt).hide(),t.removeClass("flipbook-browser-fullscreen"),this.fullscreenActive=!1,this.options.onfullscreenexit&&this.options.onfullscreenexit.call(this)),this.triggerResize()}},createLogo:function(){var e=this.options;if(e.logoImg&&(!e.isMobile||!e.logoHideOnMobile)){var t=k("<img>").attr("src",e.logoImg).attr("style",e.logoCSS).appendTo(this.wrapper);"right"==e.logoAlignH&&t.css("right","0"),"bottom"==e.logoAlignV&&t.css("bottom","0"),e.logoUrl&&t.bind("touchend click",function(){w.open(e.logoUrl,"_blank")})}},setLoadingProgress:function(e){0<e&&e<1?k(this.preloader).stop(!0,!0).show():k(this.preloader).stop(!0,!0).hide()},setFillPreloaderProgress:function(e){if(this.$fillPreloader)if(0<e&&e<1){if(this.fillPreloaderProgress=this.fillPreloaderProgress||0,e<this.fillPreloaderProgress)return;this.fillPreloaderProgress=e;var t=this.$fillPreloaderImg[0];t.style.clip="rect(0px,"+t.width*e+"px,"+t.height+"px,0px)",this.$fillPreloader.show()}else this.$fillPreloader.hide()},createNavigation:function(){var t=this;this.navLeft=k("<div />"),this.navLeft.css("background","#f00").css("left","0").css("top","200px").attr("aria-hidden","true").addClass("skin-color fa fa-chevron-left fa-5x").css("margin-top",this.navLeft.height()+"px").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),t.Book.prevPage()}),this.navRight=k("<div />").appendTo(this.bookLayer).css("position","absolute").css("width","200px").css("height","200px").css("margin-top","-100px").css("background","#f00").css("right","0").css("top","200px").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),t.Book.nextPage()})},playFlipSound:function(){var e=this;this.options.sound&&this.Book.enabled&&void 0!==this.flipsound.play&&(this.flipsound.currentTime=0,setTimeout(function(){try{e.flipsound.play()}catch(e){}},100))},onMouseWheel:function(e){if("wheelDeltaX"in e)wheelDeltaX=e.wheelDeltaX/12,wheelDeltaY=e.wheelDeltaY/12;else if("wheelDelta"in e)wheelDeltaX=wheelDeltaY=e.wheelDelta/12;else{if(!("detail"in e))return;wheelDeltaX=wheelDeltaY=3*-e.detail}0<wheelDeltaX?this.zoomIn(e):this.zoomOut(e)},zoomTo:function(e,t,o){var i,n;this.zoom=e,void 0===o?(i=this.model.wrapperW/2,n=this.model.wrapperH/2):o.touches&&o.touches[0]?(i=o.touches[0].clientX,n=o.touches[0].clientY):o.changedTouches&&o.changedTouches[0]?(i=o.changedTouches[0].clientX,n=o.changedTouches[0].clientY):(i=o.pageX,n=o.pageY),this.Book.zoomTo(this.zoom,t,i,n),this.onZoom(this.zoom)},zoomOut:function(e){var t=this.zoom/this.options.zoomStep;t=t<this.options.zoomMin?this.options.zoomMin:t,this.zoom=t,this.zoomTo(this.zoom,0,e)},zoomIn:function(e){var t=this.zoom*this.options.zoomStep;this.bookLayer.height()*t>this.options.zoomSize&&(t=this.options.zoomSize/this.bookLayer.height()),this.zoom=t,this.zoomTo(this.zoom,0,e)},onZoom:function(e){this.zoom=e,this.enableButton(this.btnZoomIn,e<this.options.zoomMax),this.enableButton(this.btnZoomOut,e>this.options.zoomMin),this.enableSwipe(e<=1)},enableSwipe:function(e){this.swipeEnabled=e},createCurrentPage:function(){var o=this,e=k("<div>").appendTo(this.wrapper).addClass("flipbook-currentPageHolder");"top"==this.options.currentPagePositionV?e.css("top","0"):e.css("bottom","0"),"left"==this.options.currentPagePositionH?e.css("left","0"):e.css("right","0"),e.css("margin",this.options.currentPageMarginV+"px "+this.options.currentPageMarginH+"px"),this.currentPageHolder=e,this.currentPage=k(v.createElement("div")).addClass("flipbook-currentPageNumber").appendTo(e);var t=k("<form>").appendTo(e).submit(function(e){var t=parseInt(o.currentPageInput.val());return t=t>o.options.pages.length?o.options.pages.length:t,o.options.rightToLeft&&(t=o.options.pages.length-t+1),o.options.singlePageMode&&t--,o.Book.goToPage(t),o.currentPageInput.trigger("blur"),!1});this.currentPageInput=k('<input type="text" maxlength="4">').addClass("flipbook-currentPageInput").appendTo(t).focus(function(){o.currentPageInput.val("").width(o.currentPageHolder.width()),o.currentPage.addClass("flipbook-color-transparent")}).blur(function(){o.currentPage.removeClass("flipbook-color-transparent"),o.currentPageInput.val("")})},createSearch:function(){var e=this;this.searchEnabled=!0,this.searchHolder=k("<div>").addClass("flipbook-tocHolder skin-color-bg").appendTo(this.wrapper).hide(),this.search=k("<div>").addClass("flipbook-toc").appendTo(this.searchHolder),e.searchScroll=new FLIPBOOK.IScroll(e.searchHolder[0],{bounce:!1,mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0}),this.createMenuHeader(this.search,"Search",this.toggleSearch),this.$searchBar=k('<div class="flipbook-findbar" id="findbar" deluminate_imagetype="png"><div id="findbarInputContainer"><input id="findInput" class="toolbarField" title="Find" placeholder="'+this.strings.findInDocument+'..."></div><div class="flipbook-find-info skin-color"/></div>').appendTo(this.search),this.$findInput=this.$searchBar.find("#findInput").keyup(function(){""!=this.value?e.findInDocument(this.value):e.unmark()}),this.$findInfo=this.$searchBar.find(".flipbook-find-info")},createBookmark:function(){var t=this;this.bookmarkHolder=k("<div>").addClass("flipbook-tocHolder skin-color-bg flipbook-bmHolder flipbook-font").appendTo(this.wrapper).hide(),this.bookmark=k("<div>").addClass("flipbook-toc").appendTo(this.bookmarkHolder),t.bookmarkScroll=new FLIPBOOK.IScroll(t.bookmarkHolder[0],{bounce:!1,mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0}),this.createMenuHeader(this.bookmark,this.strings.bookmark,this.toggleBookmark);k('<a><div class="c-p skin-color flipbook-btn">Bookmark current page</div></a>').appendTo(this.bookmark).bind("touchend click",function(e){t.bookmarkPage(t.cPage[0],this),e.preventDefault(),e.stopPropagation()}),k('<a><div class="c-l-p skin-color flipbook-btn">'+this.strings.bookmarkLeftPage+"</div></a>").appendTo(this.bookmark).bind("touchend click",function(e){t.bookmarkPage(t.cPage[0],this),e.preventDefault(),e.stopPropagation()}),k('<a><div class="c-r-p skin-color flipbook-btn">'+this.strings.bookmarkRightPage+"</div></a>").appendTo(this.bookmark).bind("touchend click",function(e){t.bookmarkPage(t.cPage[1],this),e.preventDefault(),e.stopPropagation()})},createMenuHeader:function(e,t,o){var i=this,n=k("<div>").addClass("flipbook-menu-header skin-clor flipbook-font").appendTo(e),s=(t=k("<span>").text(t).addClass("flipbook-menu-title skin-color").appendTo(n),k("<span>").appendTo(n).addClass("flipbook-btn-close").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),o.call(i)}));k("<span>").attr("aria-hidden","true").appendTo(s).addClass("fa fa-times flipbook-btn-close-icon skin-color")},createToc:function(e){var o=this;if(this.tocHolder=k("<div>").addClass("flipbook-tocHolder skin-color-bg").appendTo(this.wrapper).hide(),this.toc=k("<div>").addClass("flipbook-toc").appendTo(this.tocHolder),o.tocScroll=new FLIPBOOK.IScroll(o.tocHolder[0],{bounce:!1,mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0}),this.createMenuHeader(this.toc,this.strings.tableOfContent,this.toggleToc),0<e.length){this.options.pages;for(var t=0;t<e.length;t++){var i=k(v.createElement("a")).attr("class","flipbook-tocItem").addClass("skin-color").attr("title",e[t].page).appendTo(this.toc).bind("touchend click",function(e){if(e.stopPropagation(),e.preventDefault(),!o.tocScroll.moved){var t=Number(k(this).attr("title"));t=o.options.rightToLeft?o.options.pages.length-t+1:t,o.Book.goingToPage!=t&&(o.Book.goToPage(t),o.options.tableOfContentCloseOnClick&&o.toggleToc(!1))}});k(v.createElement("span")).appendTo(i).text(e[t].title),k(v.createElement("span")).appendTo(i).attr("class","right").text(e[t].page)}}else{var n=[];if(this.options.rightToLeft)for(t=this.options.pages.length-1;0<=t;t--)n.push(this.options.pages[t]);else n=this.options.pages;for(t=0;t<n.length;t++){var s=n[t].title;if(""!=s&&void 0!==s){i=k(v.createElement("a")).attr("class","flipbook-tocItem").addClass("skin-color").attr("title",String(t+1)).appendTo(this.toc).bind("touchend click",function(e){if(e.stopPropagation(),e.preventDefault(),!o.tocScroll.moved){var t=Number(k(this).attr("title"));t=o.options.rightToLeft?o.options.pages.length-t+1:t,o.Book.goingToPage!=t&&(o.Book.goToPage(t),o.options.tableOfContentCloseOnClick&&o.toggleToc(!1))}});k(v.createElement("span")).appendTo(i).text(s),k(v.createElement("span")).appendTo(i).attr("class","right").text(t+1)}}}o.tocScroll.refresh()},enablePrev:function(e){this.enableButton(this.btnPrev,e),this.enableButton(this.btnFirst,e),this.Book.enablePrev(e)},enableNext:function(e){this.enableButton(this.btnNext,e),this.enableButton(this.btnLast,e),this.Book.enableNext(e)},enableButton:function(e,t){void 0!==e&&(t?(e.css("opacity","1"),e.css("pointer-events","auto")):(e.css("opacity","0.2"),e.css("pointer-events","none")),e.enabled=t)},resize:function(){var e=this;!e.options.menuOverBook&&e.menuShowing?e.bookLayer.css("bottom",e.menuWrapper.height()+"px"):e.bookLayer.css("bottom","0px");var t=this.model;t.wrapperW=this.bookLayer.width(),t.wrapperH=this.bookLayer.height(),e.options.zoomMax=this.options.zoomSize/t.wrapperH,e.Book.onResize(),e.Book.zoomTo(e.options.zoomMin)},pdfResize:function(){this.Book.onZoom()},createThumbs:function(){var o=this;if(this.options.btnThumbs.enabled){this.thumbsCreated=!0,this.thumbHolder=k(v.createElement("div")).addClass("flipbook-thumbHolder").addClass("skin-color-bg").appendTo(o.wrapper).hide(),this.thumbsWrapper=k(v.createElement("div")).appendTo(this.thumbHolder).addClass("flipbook-thumbsWrapper"),this.thumbsScroller=k(v.createElement("div")).appendTo(this.thumbsWrapper).addClass("flipbook-thumbsScroller"),this.createMenuHeader(this.thumbHolder,this.strings.thumbnails,this.toggleThumbs),o.thumbs=[];var e=[];if(this.options.rightToLeft)for(var t=this.options.pages.length-1;0<=t;t--)e.push(this.options.pages[t]);else e=this.options.pages;var i=[];if(this.options.doublePage)for(t=0;t<e.length;t++)0!=t&&t%2==0||i.push(e[t]);else i=e;this.options.pdfMode&&this.loadThumbsFromPdf(i);var n=this.options.thumbSize,s=this.options.thumbSize*this.options.pageWidth/this.options.pageHeight;for(t=0;t<i.length;t++){var a=i[t].thumb,r=k("<div>").addClass("flipbook-thumb").appendTo(o.thumbsScroller).attr("data-thumb-index",t).width(s).height(n),l=k("<span>").appendTo(r).addClass("thumb-btn-close").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),o.removeBookmark(k(this).parent().attr("data-thumb-index"))});k("<span>").attr("aria-hidden","true").appendTo(l).addClass("fa fa-times skin-color");if(this.thumbs.push(r),i[t].thumbCanvas)var p=k(i[t].thumbCanvas);else{if(!a)continue;(p=k("<img/>").attr("src",a))[0].onload=function(){o.thumbScroll.refresh()}}if(p.appendTo(r),k("<br/>").appendTo(r),this.options.doublePage&&0<t){r.width(2*s),p.height(n).width(2*s).attr("page-title",2*t+1);k(v.createElement("soan")).text(String(2*t)+"-"+String(2*t+1)).appendTo(r).addClass("skin-color").addClass("flipbook-thumb-num")}else{p.height(n).width(s).attr("page-title",t+1);k(v.createElement("span")).text(t+1).appendTo(r).addClass("skin-color").addClass("flipbook-thumb-num")}p.bind("touchend click",function(e){if(e.stopPropagation(),e.preventDefault(),!o.thumbScroll.moved){var t=Number(k(this).attr("page-title"));o.options.rightToLeft&&(t=o.options.pages.length-t+1),o.options.singlePageMode&&t--,o.Book.goingToPage!=t&&o.Book.goToPage(t)}})}this.thumbScroll=new FLIPBOOK.IScroll(this.thumbsWrapper[0],{bounce:!1,mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0})}},toggleThumbs:function(e){this.thumbsCreated||(this.createThumbs(),this.initColors()),this.thumbHolder&&(!this.thumbsShowing||e?(this.closeMenus(),this.thumbsShowing=!0,this.thumbHolder.show(),this.thumbsVertical(),this.options.sideMenuOverBook||this.bookLayer.css("left",this.thumbHolder.width()+"px"),this.thumbsWrapper.appendTo(this.thumbHolder).css("top","50px"),this.showAllThumbs(),k(".thumb-btn-close").hide()):(this.thumbHolder.hide(),this.options.sideMenuOverBook||this.bookLayer.css("left","0"),this.thumbsShowing=!1),this.resize())},toggleToc:function(e){!this.tocShowing||e?(this.closeMenus(),this.tocShowing=!0,this.tocHolder.show(),this.tocScroll.refresh(),this.options.sideMenuOverBook||this.bookLayer.css("left",this.tocHolder.width()+"px")):(this.tocHolder.hide(),this.tocShowing=!1,this.options.sideMenuOverBook||this.bookLayer.css("left","0")),this.resize()},toggleSearch:function(e){this.thumbsCreated||(this.createThumbs(),this.initColors()),!this.searchShowing||e?(this.closeMenus(),this.searchShowing=!0,this.searchHolder.show(),this.options.sideMenuOverBook||this.bookLayer.css("left",this.searchHolder.width()+"px"),this.thumbsWrapper.appendTo(this.searchHolder).css("top","120px"),this.hideAllThumbs(),k(".thumb-btn-close").hide(),this.searchScroll.refresh(),this.$findInput.focus()):(this.searchHolder.hide(),this.searchShowing=!1,this.options.sideMenuOverBook||this.bookLayer.css("left","0")),this.$findInput.val(""),this.$findInfo.hide(),this.resize(),this.unmark()},toggleBookmark:function(){this.thumbsCreated||(this.createThumbs(),this.initColors()),this.bookmarkShowing?(this.bookmarkHolder.hide(),this.bookmarkShowing=!1,k(".thumb-btn-close").hide(),this.options.sideMenuOverBook||this.bookLayer.css("left","0")):(this.closeMenus(),this.bookmarkShowing=!0,k(".thumb-btn-close").show(),this.bookmarkHolder.show(),this.bookmarkScroll.refresh(),this.options.sideMenuOverBook||this.bookLayer.css("left",this.bookmarkHolder.width()+"px"),this.thumbsWrapper.appendTo(this.bookmarkHolder).css("top","120px"),this.showBookmarkedThumbs(),this.bookmarkScroll.refresh()),this.resize()},closeMenus:function(){this.thumbsShowing&&this.toggleThumbs(),this.tocShowing&&this.toggleToc(),this.searchShowing&&this.toggleSearch(),this.bookmarkShowing&&this.toggleBookmark(),this.printMenuShowing&&this.togglePrintMenu(),this.dlMenuShowing&&this.toggleDownloadMenu(),this.shareMenuShowing&&this.toggleShareMenu()},togglePrintMenu:function(){var t=this;if(this.printMenu)this.printMenuShowing?(this.printMenu.hide(),this.printMenuShowing=!1):(this.closeMenus(),this.printMenu.show(),this.printMenuShowing=!0);else{this.printMenu=k('<div class="flipbook-sub-menu flipbook-font">').appendTo(this.wrapper);var e=k('<idv class="flipbook-sub-menu-center">').appendTo(this.printMenu),o=k('<idv class="flipbook-sub-menu-content skin-color-bg">').appendTo(e);this.createMenuHeader(o,this.strings.print,this.togglePrintMenu);k('<a><div class="c-p skin-color flipbook-btn">'+this.strings.printCurrentPage+"</div></a>").appendTo(o).bind("touchend click",function(e){t.printPage(t.cPage[0],this)}),k('<a><div class="c-l-p skin-color flipbook-btn">'+this.strings.printLeftPage+"</div></a>").appendTo(this.printMenu).appendTo(o).bind("touchend click",function(e){t.printPage(t.cPage[0],this)}),k('<a><div class="c-r-p skin-color flipbook-btn">'+this.strings.printRightPage+"</div></a>").appendTo(this.printMenu).appendTo(o).bind("touchend click",function(e){t.printPage(t.cPage[1],this)}),k('<a><div class="skin-color flipbook-btn">'+this.strings.printAllPages+"</div></a>").appendTo(o).bind("touchend click",function(e){t.togglePrintWindow()});this.closeMenus(),this.printMenuShowing=!0,this.initColors()}2==this.cPage.length?(this.wrapper.find(".c-l-p").show(),this.wrapper.find(".c-r-p").show(),this.wrapper.find(".c-p").hide()):(this.wrapper.find(".c-l-p").hide(),this.wrapper.find(".c-r-p").hide(),this.wrapper.find(".c-p").show())},toggleDownloadMenu:function(){var o=this;if(this.dlMenu)this.dlMenuShowing?(this.dlMenu.hide(),this.dlMenuShowing=!1):(this.dlMenu.show(),this.closeMenus(),this.dlMenuShowing=!0);else{this.dlMenu=k('<div class="flipbook-sub-menu flipbook-font">').appendTo(this.wrapper);var e=k('<idv class="flipbook-sub-menu-center">').appendTo(this.dlMenu),t=k('<idv class="flipbook-sub-menu-content skin-color-bg">').appendTo(e);this.createMenuHeader(t,this.strings.download,this.toggleDownloadMenu);k('<a><div class="c-p skin-color flipbook-btn">'+this.strings.downloadCurrentPage+"</div></a>").appendTo(t).bind("touchend click",function(e){o.downloadPage(o.cPage[0],this)}),k('<a><div class="c-l-p skin-color flipbook-btn">'+this.strings.downloadLeftPage+"</div></a>").appendTo(t).bind("touchend click",function(e){o.downloadPage(o.cPage[0],this)}),k('<a><div class="c-r-p skin-color flipbook-btn">'+this.strings.downloadRightPage+"</div></a>").appendTo(t).bind("touchend click",function(e){o.downloadPage(o.cPage[1],this)}),k('<a><div class="skin-color flipbook-btn">'+this.strings.downloadAllPages+"</div></a>").appendTo(t).bind("touchend click",function(e){var t=v.createElement("a");t.href=o.options.btnDownloadPages.url,t.download=o.options.btnDownloadPages.name,t.dispatchEvent(new MouseEvent("click"))});this.closeMenus(),this.dlMenuShowing=!0,this.initColors()}2==this.cPage.length?(this.wrapper.find(".c-l-p").show(),this.wrapper.find(".c-r-p").show(),this.wrapper.find(".c-p").hide()):(this.wrapper.find(".c-l-p").hide(),this.wrapper.find(".c-r-p").hide(),this.wrapper.find(".c-p").show())},toggleShareMenu:function(){if(this.shareMenu)this.shareMenuShowing?(this.shareMenu.hide(),this.shareMenuShowing=!1):(this.shareMenu.show(),this.closeMenus(),this.shareMenuShowing=!0);else{this.shareMenu=k('<div class="flipbook-sub-menu flipbook-font">').appendTo(this.wrapper);var e=k('<idv class="flipbook-sub-menu-center">').appendTo(this.shareMenu),t=k('<idv class="flipbook-sub-menu-content skin-color-bg">').appendTo(e);this.createMenuHeader(t,"Share",this.toggleShareMenu);var o=k('<idv class="flipbook-share">').appendTo(t),i=this.options;this.share=new Share(o[0],{networks:{google_plus:i.google_plus,twitter:i.twitter,facebook:i.facebook,pinterest:i.pinterest,email:i.email}}),this.closeMenus(),this.shareMenuShowing=!0,this.initColors()}},bookmarkPage:function(e){var t=this.getBookmarkedPages();t.indexOf(String(e))<0&&t.push(e),this.setBookmarkedPages(t),this.showBookmarkedThumbs(),this.bookmarkShowing||this.toggleBookmark()},removeBookmark:function(e){var t=this.getBookmarkedPages();-1<t.indexOf(String(e))&&t.splice(t.indexOf(String(e)),1),this.setBookmarkedPages(t),this.showBookmarkedThumbs(),this.bookmarkShowing||this.toggleBookmark()},isBookmarked:function(e){return 0<this.getBookmarkedPages().indexOf(String(e))},getBookmarkedPages:function(){var e=localStorage.getItem(this.options.name+"_flipbook_bookmarks");return e?e.split(";"):[]},setBookmarkedPages:function(e){localStorage.setItem(this.options.name+"_flipbook_bookmarks",e.join(";"))},printPage:function(e,t){var o;if(this.options.pages[e]&&this.options.pages[e].print?o=this.options.pages[e].print:this.options.pages[e]&&this.options.pages[e].canvas&&this.options.pages[e].canvas[this.options.pageTextureSize]?o=this.options.pages[e].canvas[this.options.pageTextureSize].toDataURL():this.options.pages[e]&&this.options.pages[e].src&&(o=this.options.pages[e].src),o){var i="<!DOCTYPE html>";i+="<html>",i+="<head><title>Print canvas</title></head>",i+="<body>",i+='<img src="'+o+'">',i+="</body>",i+="</html>";var n=w.open("","Print","height=1600,width=800");n.document.open(),n.document.write(i),n.document.close(),n.document.addEventListener("load",function(){n.focus(),n.print(),n.document.close(),n.close()},!0)}},downloadPage:function(e){if(this.options.pages[e]&&this.options.pages[e].download)url=this.options.pages[e].download;else if(this.options.pages[e]&&this.options.pages[e].src)url=this.options.pages[e].src;else if(this.options.pages[e]&&this.options.pages[e].canvas&&this.options.pages[e].canvas[this.options.pageTextureSize]){var t=v.createElement("canvas"),o=this.options.pageWidth/this.options.pageHeight;t.width=this.options.pageTextureSize*o,t.height=this.options.pageTextureSize,t.getContext("2d").drawImage(this.options.pages[e].canvas[this.options.pageTextureSize],0,0),url=t.toDataURL("image/jpeg",.5),delete t}if(url){var i=v.createElement("a");i.href=url,i.download="page"+String(e+1),v.body.appendChild(i),i.click(),v.body.removeChild(i),delete i}},showAllThumbs:function(){k(".flipbook-thumb").show(),this.thumbScroll.refresh()},hideAllThumbs:function(){k(".flipbook-thumb").hide(),this.thumbScroll.refresh()},showThumb:function(e){this.thumbs[e].show(),this.thumbScroll.refresh()},hideThumb:function(e){this.thumbs[e].hide(),this.thumbScroll.refresh()},showBookmarkedThumbs:function(){var e=this.getBookmarkedPages();this.hideAllThumbs();for(var t=0;t<e.length;t++){var o=e[t];o&&this.showThumb(o)}},printPdf:function(e){w.open(e,"_blank").onload=function(){this.print()}},togglePrintWindow:function(e){var n;(n=this).options.printPdfUrl?n.printPdf(n.options.printPdfUrl):n.options.pdfUrl?n.printPdf(n.options.pdfUrl):t();function t(){link="about:blank";var e=w.open(link,"_new");e.document.open();for(var t="",o=0;o<n.options.pages.length;o++)n.options.pages[o].src&&(t+='<img src="'+n.options.pages[o].src.toString()+'"/>\n');var i="<html>\n<head>\n<title>Temporary Printing Window</title>\n<script>\nfunction step1() {\n  setTimeout('step2()', 10);\n}\nfunction step2() {\n  window.print();\n  window.close();\n}\n<\/script>\n</head>\n<body onLoad='step1()'>\n"+t+"</body>\n</html>\n";e.document.write(i),e.document.close()}},thumbsVertical:function(){this.thumbsCreated&&(this.thumbScroll.hScroll=!1,this.thumbScroll.vScroll=!0,this.thumbScroll.refresh())},toggleExpand:function(e){this.browserFullscreen=!0;var t=this.lightbox?v.documentElement:this.elem[0];screenfull.enabled?screenfull.toggle(t):(k(t).toggleClass("flipbook-browser-fullscreen"),this.isFullscreen=!this.isFullscreen,this.handleFsChange())},expand:function(){},toggleAutoplay:function(e){var t=this;this.autoplay=e||!this.autoplay,this.autoplay?(t.btnAutoplay.find("."+t.btnAutoplay.icon).hide(),t.btnAutoplay.find("."+t.btnAutoplay.iconAlt).show(),this.autoplayTimer=setInterval(function(){if(t.autoplay){var e=t.options.autoplayStartPage||1;t.options.rightToLeft?t.Book.prevEnabled?t.Book.prevPage():t.goToPage(t.options.pages.length-e+1):t.Book.nextEnabled?t.Book.nextPage():t.goToPage(e)}},t.options.autoplayInterval)):(t.btnAutoplay.find("."+t.btnAutoplay.icon).show(),t.btnAutoplay.find("."+t.btnAutoplay.iconAlt).hide(),clearInterval(t.autoplayTimer))},triggerResize:function(){setTimeout(function(){k(w).trigger("resize")},100),setTimeout(function(){k(w).trigger("resize")},500),setTimeout(function(){k(w).trigger("resize")},2e3)},toggleSlideshow:function(){},initEasing:function(){w.jQuery.extend(w.jQuery.easing,{def:"easeOutQuad",swing:function(e,t,o,i,n){return k.easing[k.easing.def](e,t,o,i,n)},easeInQuad:function(e,t,o,i,n){return i*(t/=n)*t+o},easeOutQuad:function(e,t,o,i,n){return-i*(t/=n)*(t-2)+o},easeInOutQuad:function(e,t,o,i,n){return(t/=n/2)<1?i/2*t*t+o:-i/2*(--t*(t-2)-1)+o},easeInCubic:function(e,t,o,i,n){return i*(t/=n)*t*t+o},easeOutCubic:function(e,t,o,i,n){return i*((t=t/n-1)*t*t+1)+o},easeInOutCubic:function(e,t,o,i,n){return(t/=n/2)<1?i/2*t*t*t+o:i/2*((t-=2)*t*t+2)+o},easeInQuart:function(e,t,o,i,n){return i*(t/=n)*t*t*t+o},easeOutQuart:function(e,t,o,i,n){return-i*((t=t/n-1)*t*t*t-1)+o},easeInOutQuart:function(e,t,o,i,n){return(t/=n/2)<1?i/2*t*t*t*t+o:-i/2*((t-=2)*t*t*t-2)+o},easeInQuint:function(e,t,o,i,n){return i*(t/=n)*t*t*t*t+o},easeOutQuint:function(e,t,o,i,n){return i*((t=t/n-1)*t*t*t*t+1)+o},easeInOutQuint:function(e,t,o,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+o:i/2*((t-=2)*t*t*t*t+2)+o},easeInSine:function(e,t,o,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+o},easeOutSine:function(e,t,o,i,n){return i*Math.sin(t/n*(Math.PI/2))+o},easeInOutSine:function(e,t,o,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+o},easeInExpo:function(e,t,o,i,n){return 0==t?o:i*Math.pow(2,10*(t/n-1))+o},easeOutExpo:function(e,t,o,i,n){return t==n?o+i:i*(1-Math.pow(2,-10*t/n))+o},easeInOutExpo:function(e,t,o,i,n){return 0==t?o:t==n?o+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+o:i/2*(2-Math.pow(2,-10*--t))+o},easeInCirc:function(e,t,o,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+o},easeOutCirc:function(e,t,o,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+o},easeInOutCirc:function(e,t,o,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+o:i/2*(Math.sqrt(1-(t-=2)*t)+1)+o},easeInElastic:function(e,t,o,i,n){var s=1.70158,a=0,r=i;if(0==t)return o;if(1==(t/=n))return o+i;if(a||(a=.3*n),r<Math.abs(i)){r=i;s=a/4}else s=a/(2*Math.PI)*Math.asin(i/r);return-r*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/a)+o},easeOutElastic:function(e,t,o,i,n){var s=1.70158,a=0,r=i;if(0==t)return o;if(1==(t/=n))return o+i;if(a||(a=.3*n),r<Math.abs(i)){r=i;s=a/4}else s=a/(2*Math.PI)*Math.asin(i/r);return r*Math.pow(2,-10*t)*Math.sin((t*n-s)*(2*Math.PI)/a)+i+o},easeInOutElastic:function(e,t,o,i,n){var s=1.70158,a=0,r=i;if(0==t)return o;if(2==(t/=n/2))return o+i;if(a||(a=n*(.3*1.5)),r<Math.abs(i)){r=i;s=a/4}else s=a/(2*Math.PI)*Math.asin(i/r);return t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/a)*-.5+o:r*Math.pow(2,-10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/a)*.5+i+o},easeInBack:function(e,t,o,i,n,s){return s==a&&(s=1.70158),i*(t/=n)*t*((s+1)*t-s)+o},easeOutBack:function(e,t,o,i,n,s){return s==a&&(s=1.70158),i*((t=t/n-1)*t*((s+1)*t+s)+1)+o},easeInOutBack:function(e,t,o,i,n,s){return s==a&&(s=1.70158),(t/=n/2)<1?i/2*(t*t*((1+(s*=1.525))*t-s))+o:i/2*((t-=2)*t*((1+(s*=1.525))*t+s)+2)+o},easeInBounce:function(e,t,o,i,n){return i-k.easing.easeOutBounce(e,n-t,0,i,n)+o},easeOutBounce:function(e,t,o,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+o:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+o:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+o:i*(7.5625*(t-=2.625/2.75)*t+.984375)+o},easeInOutBounce:function(e,t,o,i,n){return t<n/2?.5*k.easing.easeInBounce(e,2*t,0,i,n)+o:.5*k.easing.easeOutBounce(e,2*t-n,0,i,n)+.5*i+o}})}},FLIPBOOK.Book=function(){},FLIPBOOK.Book.prototype={rightIndex:0,goToPage:function(){}},FLIPBOOK.Lightbox=function(e,t,o){var i=this;this.context=e,this.options=o,this.lightboxOpened=!1,e.$elem.bind("tap click",function(e){i.openLightbox(),e.stopPropagation()});k(e.elem).find("img");i.overlay=k(v.createElement("div")).attr("style",o.lightboxCSS).addClass("flipbook-overlay").css("display","none").css("top",i.options.lightboxMarginV).css("bottom",i.options.lightboxMarginV).css("left",i.options.lightboxMarginH).css("right",i.options.lightboxMarginH).appendTo("body"),i.options.lightboxCloseOnClick&&k("body").bind("tap click",function(e){var t=k(e.target);t.parents().hasClass("flipbook-overlay")&&!t.hasClass("flipbook-bookLayer")||i.closeLightbox()}),o.lightboxBackground&&i.overlay.css("background",o.lightboxBackground),k(v).keyup(function(e){27==e.keyCode&&i.closeLightbox()}),i.wrapper=k(v.createElement("div")).css("height","auto").appendTo(i.overlay),i.wrapper.attr("class","flipbook-wrapper-transparent").css("margin","0px auto").css("padding","0px").css("height","100%").css("width","100%"),t.appendTo(i.wrapper);var n=k("<div/>").appendTo(i.wrapper).addClass("flipbook-lightbox-toolbar"),s=o,a=k('<span title="'+s.strings.pressEscToClose+'"/>').appendTo(n).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),i.closeLightbox()});k("<span/>").appendTo(a).addClass("flipbook-lightbox-close fa fa-times").css({"font-size":s.closeBtnSize+"px",padding:s.closeBtnPadding+"px ",margin:s.closeBtnMargin+"px ","border-radius":s.closeBtnRadius+"px ","text-shadow":s.closeBtnTextShadow,color:s.closeBtnColor,background:s.closeBtnBackground,border:s.closeBtnBorder})},FLIPBOOK.Lightbox.prototype={openLightbox:function(){this.lightboxOpened||(this.lightboxOpened=!0,this.overlay.css("display","none"),this.overlay.fadeIn("slow",function(){}),k("body").addClass("flipbook-overflow-hidden"),k("html").addClass("flipbook-overflow-hidden"))},closeLightbox:function(){1==this.lightboxOpened&&(this.lightboxOpened=!1,this.overlay.fadeOut("fast"),k("body").removeClass("flipbook-overflow-hidden"),k("html").removeClass("flipbook-overflow-hidden"),this.context.lightboxEnd())},resize:function(){var e=k(w);e.width(),e.height()}},FLIPBOOK.getFlipbookSrc=function(){for(var e=v.getElementsByTagName("script"),t=0;t<e.length;t++){var o=String(e[t].src);if(o.match("flipbook\\.js")||o.match("flipbook\\.min\\.js"))return o}return""},FLIPBOOK.flipbookSrc=FLIPBOOK.getFlipbookSrc(),FLIPBOOK.iscrollSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/iscroll."),FLIPBOOK.threejsSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/three."),FLIPBOOK.flipbookWebGlSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/flipbook.webgl."),FLIPBOOK.flipbookBook3Src=FLIPBOOK.flipbookSrc.replace("/flipbook.","/flipbook.book3."),FLIPBOOK.flipBookSwipeSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/flipbook.swipe."),FLIPBOOK.pdfjsSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/pdf."),FLIPBOOK.pdfServiceSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/flipbook.pdfservice."),FLIPBOOK.pdfjsworkerSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/pdf.worker."),FLIPBOOK.markSrc="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js",FLIPBOOK.scriptsLoaded={},FLIPBOOK.scriptsAdded={}}(jQuery,window,document),function(){"use strict";var e="undefined"!=typeof module&&module.exports,o="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var e,t,o=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,n=o.length,s={};i<n;i++)if((e=o[i])&&e[1]in document){for(i=0,t=e.length;i<t;i++)s[o[0][i]]=e[i];return s}return!1}(),t={request:function(e){var t=i.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[t]():e[t](o&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[i.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:i};i?(Object.defineProperties(t,{isFullscreen:{get:function(){return!!document[i.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[i.fullscreenEnabled]}}}),e?module.exports=t:window.screenfull=t):e?module.exports=!1:window.screenfull=!1}(),function(e){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera),function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(re){"use strict";function i(e,f){function t(e){if(!(!0===Y.data(Ce+"_intouch")||0<re(e.target).closest(f.excludedElements,Y).length)){var t=e.originalEvent?e.originalEvent:e;if(!t.pointerType||"mouse"!=t.pointerType||0!=f.fallbackToMouseEvents){var o,i=t.touches,n=i?i[0]:t;return X=Te,i?J=i.length:!1!==f.preventDefaultEvents&&e.preventDefault(),Q=R=j=null,q=1,$=U=V=W=N=0,(s={})[le]=L(le),s[pe]=L(pe),s[de]=L(de),s[ce]=L(ce),Z=s,B(),O(0,n),!i||J===f.fingers||f.fingers===Be||k()?(ee=E(),2==J&&(O(1,i[1]),V=U=F(G[0].start,G[1].start)),(f.swipeStatus||f.pinchStatus)&&(o=m(t,X))):o=!1,!1===o?(m(t,X=Me),o):(f.hold&&(ae=setTimeout(re.proxy(function(){Y.trigger("hold",[t.target]),f.hold&&(o=f.hold.call(Y,t,t.target))},this),f.longTapThreshold)),T(!0),null)}}var s}function o(e){var t,o,i,n,s,a,r,l,p=e.originalEvent?e.originalEvent:e;if(X!==ye&&X!==Me&&!x()){var d,c=p.touches,h=y(c?c[0]:p);if(te=E(),c&&(J=c.length),f.hold&&clearTimeout(ae),X=Oe,2==J&&(0==V?(O(1,c[1]),V=U=F(G[0].start,G[1].start)):(y(c[1]),U=F(G[0].end,G[1].end),G[0].end,G[1].end,Q=q<1?ue:he),q=(U/V*1).toFixed(2),$=Math.abs(V-U)),J===f.fingers||f.fingers===Be||!c||k()){if(j=C(h.start,h.end),function(e,t){if(!1!==f.preventDefaultEvents)if(f.allowPageScroll===ge)e.preventDefault();else{var o=f.allowPageScroll===fe;switch(t){case le:(f.swipeLeft&&o||!o&&f.allowPageScroll!=Pe)&&e.preventDefault();break;case pe:(f.swipeRight&&o||!o&&f.allowPageScroll!=Pe)&&e.preventDefault();break;case de:(f.swipeUp&&o||!o&&f.allowPageScroll!=Se)&&e.preventDefault();break;case ce:(f.swipeDown&&o||!o&&f.allowPageScroll!=Se)&&e.preventDefault()}}}(e,R=C(h.last,h.end)),r=h.start,l=h.end,N=Math.round(Math.sqrt(Math.pow(l.x-r.x,2)+Math.pow(l.y-r.y,2))),W=I(),a=N,(s=j)!=ge&&(a=Math.max(a,M(s)),Z[s].distance=a),d=m(p,X),!f.triggerOnTouchEnd||f.triggerOnTouchLeave){var u=!0;if(f.triggerOnTouchLeave){var g={left:(n=(i=re(i=this)).offset()).left,right:n.left+i.outerWidth(),top:n.top,bottom:n.top+i.outerHeight()};t=h.end,o=g,u=t.x>o.left&&t.x<o.right&&t.y>o.top&&t.y<o.bottom}!f.triggerOnTouchEnd&&u?X=b(Oe):f.triggerOnTouchLeave&&!u&&(X=b(ye)),X!=Me&&X!=ye||m(p,X)}}else m(p,X=Me);!1===d&&m(p,X=Me)}}function i(e){var t,o=e.originalEvent?e.originalEvent:e,i=o.touches;if(i){if(i.length&&!x())return t=o,oe=E(),ie=t.touches.length+1,!0;if(i.length&&x())return!0}return x()&&(J=ie),te=E(),W=I(),p()||!l()?m(o,X=Me):f.triggerOnTouchEnd||!1===f.triggerOnTouchEnd&&X===Oe?(!1!==f.preventDefaultEvents&&!1!==e.cancelable&&e.preventDefault(),m(o,X=ye)):!f.triggerOnTouchEnd&&v()?r(o,X=ye,ke):X===Oe&&m(o,X=Me),T(!1),null}function n(){U=V=ee=te=J=0,q=1,B(),T(!1)}function s(e){var t=e.originalEvent?e.originalEvent:e;f.triggerOnTouchLeave&&m(t,X=b(ye))}function a(){Y.unbind(_,t),Y.unbind(K,n),Y.unbind(D,o),Y.unbind(H,i),A&&Y.unbind(A,s),T(!1)}function b(e){var t=e,o=d(),i=l(),n=p();return!o||n?t=Me:!i||e!=Oe||f.triggerOnTouchEnd&&!f.triggerOnTouchLeave?!i&&e==ye&&f.triggerOnTouchLeave&&(t=Me):t=ye,t}function m(e,t){var o,i=e.touches;return(!(!h()||!u())||u())&&(o=r(e,t,be)),(!(!c()||!k())||k())&&!1!==o&&(o=r(e,t,me)),S()&&P()&&!1!==o?o=r(e,t,we):W>f.longTapThreshold&&N<xe&&f.longTap&&!1!==o?o=r(e,t,ve):!(1!==J&&Le||!(isNaN(N)||N<f.threshold)||!v())&&!1!==o&&(o=r(e,t,ke)),t===Me&&n(),t===ye&&(i&&i.length||n()),o}function r(e,t,o){var i;if(o==be){if(Y.trigger("swipeStatus",[t,j||null,N||0,W||0,J,G,R]),f.swipeStatus&&!1===(i=f.swipeStatus.call(Y,e,t,j||null,N||0,W||0,J,G,R)))return!1;if(t==ye&&h()){if(clearTimeout(se),clearTimeout(ae),Y.trigger("swipe",[j,N,W,J,G,R]),f.swipe&&!1===(i=f.swipe.call(Y,e,j,N,W,J,G,R)))return!1;switch(j){case le:Y.trigger("swipeLeft",[j,N,W,J,G,R]),f.swipeLeft&&(i=f.swipeLeft.call(Y,e,j,N,W,J,G,R));break;case pe:Y.trigger("swipeRight",[j,N,W,J,G,R]),f.swipeRight&&(i=f.swipeRight.call(Y,e,j,N,W,J,G,R));break;case de:Y.trigger("swipeUp",[j,N,W,J,G,R]),f.swipeUp&&(i=f.swipeUp.call(Y,e,j,N,W,J,G,R));break;case ce:Y.trigger("swipeDown",[j,N,W,J,G,R]),f.swipeDown&&(i=f.swipeDown.call(Y,e,j,N,W,J,G,R))}}}if(o==me){if(Y.trigger("pinchStatus",[t,Q||null,$||0,W||0,J,q,G]),f.pinchStatus&&!1===(i=f.pinchStatus.call(Y,e,t,Q||null,$||0,W||0,J,q,G)))return!1;if(t==ye&&c())switch(Q){case he:Y.trigger("pinchIn",[Q||null,$||0,W||0,J,q,G]),f.pinchIn&&(i=f.pinchIn.call(Y,e,Q||null,$||0,W||0,J,q,G));break;case ue:Y.trigger("pinchOut",[Q||null,$||0,W||0,J,q,G]),f.pinchOut&&(i=f.pinchOut.call(Y,e,Q||null,$||0,W||0,J,q,G))}}return o==ke?t!==Me&&t!==ye||(clearTimeout(se),clearTimeout(ae),P()&&!S()?(ne=E(),se=setTimeout(re.proxy(function(){ne=null,Y.trigger("tap",[e.target]),f.tap&&(i=f.tap.call(Y,e,e.target))},this),f.doubleTapThreshold)):(ne=null,Y.trigger("tap",[e.target]),f.tap&&(i=f.tap.call(Y,e,e.target)))):o==we?t!==Me&&t!==ye||(clearTimeout(se),clearTimeout(ae),ne=null,Y.trigger("doubletap",[e.target]),f.doubleTap&&(i=f.doubleTap.call(Y,e,e.target))):o==ve&&(t!==Me&&t!==ye||(clearTimeout(se),ne=null,Y.trigger("longtap",[e.target]),f.longTap&&(i=f.longTap.call(Y,e,e.target)))),i}function l(){var e=!0;return null!==f.threshold&&(e=N>=f.threshold),e}function p(){var e=!1;return null!==f.cancelThreshold&&null!==j&&(e=M(j)-N>=f.cancelThreshold),e}function d(){return!(f.maxTimeThreshold&&W>=f.maxTimeThreshold)}function c(){var e=g(),t=w(),o=null===f.pinchThreshold||$>=f.pinchThreshold;return e&&t&&o}function k(){return!!(f.pinchStatus||f.pinchIn||f.pinchOut)}function h(){var e=d(),t=l(),o=g(),i=w();return!p()&&i&&o&&t&&e}function u(){return!!(f.swipe||f.swipeStatus||f.swipeLeft||f.swipeRight||f.swipeUp||f.swipeDown)}function g(){return J===f.fingers||f.fingers===Be||!Le}function w(){return 0!==G[0].end.x}function v(){return!!f.tap}function P(){return!!f.doubleTap}function S(){if(null==ne)return!1;var e=E();return P()&&e-ne<=f.doubleTapThreshold}function B(){ie=oe=0}function x(){var e=!1;oe&&(E()-oe<=f.fingerReleaseThreshold&&(e=!0));return e}function T(e){Y&&(!0===e?(Y.bind(D,o),Y.bind(H,i),A&&Y.bind(A,s)):(Y.unbind(D,o,!1),Y.unbind(H,i,!1),A&&Y.unbind(A,s,!1)),Y.data(Ce+"_intouch",!0===e))}function O(e,t){var o={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return o.start.x=o.last.x=o.end.x=t.pageX||t.clientX,o.start.y=o.last.y=o.end.y=t.pageY||t.clientY,G[e]=o}function y(e){var t=void 0!==e.identifier?e.identifier:0,o=G[t]||null;return null===o&&(o=O(t,e)),o.last.x=o.end.x,o.last.y=o.end.y,o.end.x=e.pageX||e.clientX,o.end.y=e.pageY||e.clientY,o}function M(e){if(Z[e])return Z[e].distance}function L(e){return{direction:e,distance:0}}function I(){return te-ee}function F(e,t){var o=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(o*o+i*i))}function C(e,t){if(i=t,(o=e).x==i.x&&o.y==i.y)return ge;var o,i,n,s,a,r,l,p,d=(s=t,a=(n=e).x-s.x,r=s.y-n.y,l=Math.atan2(r,a),(p=Math.round(180*l/Math.PI))<0&&(p=360-Math.abs(p)),p);return d<=45&&0<=d?le:d<=360&&315<=d?le:135<=d&&d<=225?pe:45<d&&d<135?ce:de}function E(){return(new Date).getTime()}f=re.extend({},f);var z=Le||Fe||!f.fallbackToMouseEvents,_=z?Fe?Ie?"MSPointerDown":"pointerdown":"touchstart":"mousedown",D=z?Fe?Ie?"MSPointerMove":"pointermove":"touchmove":"mousemove",H=z?Fe?Ie?"MSPointerUp":"pointerup":"touchend":"mouseup",A=z?Fe?"mouseleave":null:"mouseleave",K=Fe?Ie?"MSPointerCancel":"pointercancel":"touchcancel",N=0,j=null,R=null,W=0,V=0,U=0,q=1,$=0,Q=0,Z=null,Y=re(e),X="start",J=0,G={},ee=0,te=0,oe=0,ie=0,ne=0,se=null,ae=null;try{Y.bind(_,t),Y.bind(K,n)}catch(e){re.error("events not supported "+_+","+K+" on jQuery.swipe")}this.enable=function(){return this.disable(),Y.bind(_,t),Y.bind(K,n),Y},this.disable=function(){return a(),Y},this.destroy=function(){a(),Y.data(Ce,null),Y=null},this.option=function(e,t){if("object"==typeof e)f=re.extend(f,e);else if(void 0!==f[e]){if(void 0===t)return f[e];f[e]=t}else{if(!e)return f;re.error("Option "+e+" does not exist on jQuery.swipe.options")}return null}}var le="left",pe="right",de="up",ce="down",he="in",ue="out",ge="none",fe="auto",be="swipe",me="pinch",ke="tap",we="doubletap",ve="longtap",Pe="horizontal",Se="vertical",Be="all",xe=10,Te="start",Oe="move",ye="end",Me="cancel",Le="ontouchstart"in window,Ie=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!Le,Fe=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!Le,Ce="TouchSwipe";re.fn.swipe=function(e){var t=re(this),o=t.data(Ce);if(o&&"string"==typeof e){if(o[e])return o[e].apply(o,Array.prototype.slice.call(arguments,1));re.error("Method "+e+" does not exist on jQuery.swipe")}else if(o&&"object"==typeof e)o.option.apply(o,arguments);else if(!(o||"object"!=typeof e&&e))return function(o){return!o||void 0!==o.allowPageScroll||void 0===o.swipe&&void 0===o.swipeStatus||(o.allowPageScroll=ge),void 0!==o.click&&void 0===o.tap&&(o.tap=o.click),o||(o={}),o=re.extend({},re.fn.swipe.defaults,o),this.each(function(){var e=re(this),t=e.data(Ce);t||(t=new i(this,o),e.data(Ce,t))})}.apply(this,arguments);return t},re.fn.swipe.version="1.6.18",re.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},re.fn.swipe.phases={PHASE_START:Te,PHASE_MOVE:Oe,PHASE_END:ye,PHASE_CANCEL:Me},re.fn.swipe.directions={LEFT:le,RIGHT:pe,UP:de,DOWN:ce,IN:he,OUT:ue},re.fn.swipe.pageScroll={NONE:ge,HORIZONTAL:Pe,VERTICAL:Se,AUTO:fe},re.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:Be}}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Share=e()}}(function(){var o;"classList"in document.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var e,n,t;return t=function(i){return function(e){var t,o;o=(t=n.className.split(/\s+/)).indexOf(e),i(t,o,e),n.className=t.join(" ")}},n=this,e={add:t(function(e,t,o){~t||e.push(o)}),remove:t(function(e,t){~t&&e.splice(t,1)}),toggle:t(function(e,t,o){~t?e.splice(t,1):e.push(o)}),contains:function(e){return!!~n.className.split(/\s+/).indexOf(e)},item:function(e){return n.className.split(/\s+/)[e]||null}},Object.defineProperty(e,"length",{get:function(){return n.className.split(/\s+/).length}}),e}}),String.prototype.to_rfc3986=function(){return encodeURIComponent(this).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})},o=function(){function e(){}return e.prototype.extend=function(e,t,o){var i,n;for(n in t)(i=void 0!==e[n])&&"object"==typeof t[n]?this.extend(e[n],t[n],o):(o||!i)&&(e[n]=t[n])},e.prototype.hide=function(e){return e.style.display="none"},e.prototype.show=function(e){return e.style.display="block"},e.prototype.has_class=function(e,t){return e.classList.contains(t)},e.prototype.add_class=function(e,t){return e.classList.add(t)},e.prototype.remove_class=function(e,t){return e.classList.remove(t)},e.prototype.is_encoded=function(e){return e=e.to_rfc3986(),decodeURIComponent(e)!==e},e.prototype.encode=function(e){return void 0===e||this.is_encoded(e)?e:e.to_rfc3986()},e.prototype.popup=function(e,t){var o,i,n,s;return null==t&&(t={}),(i={width:500,height:350}).top=screen.height/2-i.height/2,i.left=screen.width/2-i.width/2,(n=function(){var e;for(o in e=[],t)s=t[o],e.push(o+"="+this.encode(s));return e}.call(this).join("&"))&&(n="?"+n),window.open(e+n,"targetWindow","toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,left="+i.left+",top="+i.top+",width="+i.width+",height="+i.height)},e}();var n={}.hasOwnProperty;return function(e){function t(e,t){return this.element=e,this.el={head:document.getElementsByTagName("head")[0],body:document.getElementsByTagName("body")[0]},this.config={enabled_networks:0,protocol:-1===["http","https"].indexOf(window.location.href.split(":")[0])?"https://":"//",url:window.location.href,caption:null,title:this.default_title(),image:this.default_image(),description:this.default_description(),ui:{flyout:"top center",button_text:"Share",button_font:!0,icon_font:!0},networks:{google_plus:{enabled:!0,url:null},twitter:{enabled:!0,url:null,description:null},facebook:{enabled:!0,load_sdk:!0,url:null,app_id:null,title:null,caption:null,description:null,image:null},pinterest:{enabled:!0,url:null,image:null,description:null},email:{enabled:!0,title:null,description:null}}},this.setup(this.element,t),this}return function(e,t){function o(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(t,o),t.prototype.setup=function(e,t){var o,i,n,s;for(n=[e],this.extend(this.config,t,!0),this.set_global_configuration(),this.normalize_network_configuration(),this.config.networks.facebook.enabled&&this.config.networks.facebook.load_sdk&&this.inject_facebook_sdk(),i=o=0,s=n.length;o<s;i=++o)n[i],this.setup_instance(e,i)},t.prototype.setup_instance=function(e,t){var o,i,n,s,a,r,l,p;for(s=e,this.add_class(s,"sharer-"+t),this.inject_html(s),document.getElementById("flipbook-share-facebook").style.display=this.config.networks.facebook.display,document.getElementById("flipbook-share-twitter").style.display=this.config.networks.twitter.display,document.getElementById("flipbook-share-pinterest").style.display=this.config.networks.pinterest.display,document.getElementById("flipbook-share-email").style.display=this.config.networks.email.display,document.getElementById("flipbook-share-google_plus").style.display=this.config.networks.google_plus.display,s.getElementsByTagName("label")[0],i=s.getElementsByClassName("social")[0],l=s.getElementsByTagName("li"),this.add_class(i,"networks-"+this.config.enabled_networks),s.addEventListener("click",function(e){return function(){return e.event_toggle(i)}}(this)),o=this,p=[],t=n=0,a=l.length;n<a;t=++n)r=l[t],p.push(r.addEventListener("click",function(){return o.event_network(s,this),o.event_close(i)}));return p},t.prototype.event_toggle=function(e){return this.has_class(e,"active")?this.event_close(e):this.event_open(e)},t.prototype.event_open=function(e){return this.has_class(e,"load")&&this.remove_class(e,"load"),this.add_class(e,"active")},t.prototype.event_close=function(e){return this.remove_class(e,"active")},t.prototype.event_network=function(e,t){var o;return o=t.getAttribute("data-network"),this.hook("before",o,e),this["network_"+o](),this.hook("after",o,e)},t.prototype.open=function(){return this.public("open")},t.prototype.close=function(){return this.public("close")},t.prototype.toggle=function(){return this.public("toggle")},t.prototype.public=function(e){var t,o,i,n,s,a;for(a=[],i=o=0,n=(s=document.querySelectorAll(this.element)).length;o<n;i=++o)t=s[i].getElementsByClassName("social")[0],a.push(this["event_"+e](t));return a},t.prototype.network_facebook=function(){return this.config.networks.facebook.load_sdk?window.FB?FB.ui({method:"feed",name:this.config.networks.facebook.title,link:this.config.networks.facebook.url,picture:this.config.networks.facebook.image,caption:this.config.networks.facebook.caption,description:this.config.networks.facebook.description}):console.error("The Facebook JS SDK hasn't loaded yet."):this.popup("https://www.facebook.com/sharer/sharer.php",{u:this.config.networks.facebook.url})},t.prototype.network_twitter=function(){return this.popup("https://twitter.com/intent/tweet",{text:this.config.networks.twitter.description,url:this.config.networks.twitter.url})},t.prototype.network_google_plus=function(){return this.popup("https://plus.google.com/share",{url:this.config.networks.google_plus.url})},t.prototype.network_pinterest=function(){return this.popup("https://www.pinterest.com/pin/create/button",{url:this.config.networks.pinterest.url,media:this.config.networks.pinterest.image,description:this.config.networks.pinterest.description})},t.prototype.network_email=function(){return this.popup("mailto:",{subject:this.config.networks.email.title,body:this.config.networks.email.description+"%0D%0A"+this.config.url})},t.prototype.inject_stylesheet=function(e){var t;return this.el.head.querySelector('link[href="'+e+'"]')?void 0:((t=document.createElement("link")).setAttribute("rel","stylesheet"),t.setAttribute("href",e),this.el.head.appendChild(t))},t.prototype.inject_html=function(e){return e.innerHTML="<div class='social load "+this.config.ui.flyout+"'><ul><li id='flipbook-share-pinterest' class='fab fa-pinterest-p skin-color' data-network='pinterest'></li><li id='flipbook-share-twitter' class='fab fa-twitter skin-color' data-network='twitter'></li><li id='flipbook-share-facebook' class='fab fa-facebook-f skin-color' data-network='facebook'></li><li id='flipbook-share-google_plus' class='fab fa-google-plus-g skin-color' data-network='google_plus'></li><li id='flipbook-share-email' class='fas fa-at skin-color' data-network='email'></li></ul></div>"},t.prototype.inject_facebook_sdk=function(){var e,t;return window.FB||!this.config.networks.facebook.app_id||this.el.body.querySelector("#fb-root")?void 0:((t=document.createElement("script")).text="window.fbAsyncInit=function(){FB.init({appId:'"+this.config.networks.facebook.app_id+"',status:true,xfbml:true})};(function(e,t,n){var r,i=e.getElementsByTagName(t)[0];if(e.getElementById(n)){return}r=e.createElement(t);r.id=n;r.src='"+this.config.protocol+"connect.facebook.net/en_US/all.js';i.parentNode.insertBefore(r,i)})(document,'script','facebook-jssdk')",(e=document.createElement("div")).id="fb-root",this.el.body.appendChild(e),this.el.body.appendChild(t))},t.prototype.hook=function(e,t,o){var i,n;"function"==typeof(i=this.config.networks[t][e])&&(void 0!==(n=i.call(this.config.networks[t],o))&&(n=this.normalize_filter_config_updates(n),this.extend(this.config.networks[t],n,!0),this.normalize_network_configuration()))},t.prototype.default_title=function(){var e;return(e=document.querySelector('meta[property="og:title"]')||document.querySelector('meta[name="twitter:title"]'))?e.getAttribute("content"):(e=document.querySelector("title"))?e.innerText:void 0},t.prototype.default_image=function(){var e;return(e=document.querySelector('meta[property="og:image"]')||document.querySelector('meta[name="twitter:image"]'))?e.getAttribute("content"):void 0},t.prototype.default_description=function(){var e;return(e=document.querySelector('meta[property="og:description"]')||document.querySelector('meta[name="twitter:description"]')||document.querySelector('meta[name="description"]'))?e.getAttribute("content"):""},t.prototype.set_global_configuration=function(){var e,t,o,i,n;for(t in n=[],i=this.config.networks){for(o in i[t])null==this.config.networks[t][o]&&(this.config.networks[t][o]=this.config[o]);this.config.networks[t].enabled?(e="block",this.config.enabled_networks+=1):e="none",n.push(this.config.networks[t].display=e)}return n},t.prototype.normalize_network_configuration=function(){return this.config.networks.facebook.app_id||(this.config.networks.facebook.load_sdk=!1),this.is_encoded(this.config.networks.twitter.description)||(this.config.networks.twitter.description=encodeURIComponent(this.config.networks.twitter.description)),"number"==typeof this.config.networks.facebook.app_id?this.config.networks.facebook.app_id=this.config.networks.facebook.app_id.toString():void 0},t.prototype.normalize_filter_config_updates=function(e){return this.config.networks.facebook.app_id!==e.app_id&&(console.warn("You are unable to change the Facebook app_id after the button has been initialized. Please update your Facebook filters accordingly."),delete e.app_id),this.config.networks.facebook.load_sdk!==e.load_sdk&&(console.warn("You are unable to change the Facebook load_sdk option after the button has been initialized. Please update your Facebook filters accordingly."),delete e.app_id),e},t}()});